<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>COIS 2020H — Lecture 2: Complete OOP</title>
  
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    :root{
      /* --- THEME ---   #add*/
      --stage0:#0b1220;
      --stage1:#0f1a2e;
      --slide:#ffffff;
      --ink:#0f172a;
      --muted:#475569;
      --soft:#e2e8f0;
      --soft2:#f1f5f9;
      --accent:#16a34a;
      --accent2:#22c55e;
      --radius: 20px;
      --shadow: 0 25px 60px rgba(0,0,0,.45);
      --ok:#16a34a;
      --bad:#dc2626;

      --sans: "Segoe UI", system-ui, -apple-system, Roboto, Helvetica, Arial, sans-serif;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;

      --baseW: 1600;
      --baseH: 900;
      --scale: 1;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; margin:0; overflow:hidden; }

    body{
      font-family: var(--sans);
      background:
        radial-gradient(1400px 800px at 20% 10%, rgba(34,197,94,.15), transparent 60%),
        radial-gradient(1200px 800px at 85% 20%, rgba(22,163,74,.10), transparent 55%),
        linear-gradient(180deg, var(--stage0), var(--stage1));
      color:#e5e7eb;
    }

    /* UI Elements */
    #progress-container{ position:fixed; top:0; left:0; width:100%; height:8px; background: rgba(255,255,255,.10); z-index:9999; backdrop-filter: blur(6px); }
    #progress-bar{ height:100%; width:0%; background: linear-gradient(90deg, var(--accent), var(--accent2)); transition: width .25s ease; }

    .stage{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; padding: 18px; }
    .deck-wrap{ width: calc(var(--baseW) * 1px); height: calc(var(--baseH) * 1px); transform: scale(var(--scale)); transform-origin:center center; position:relative; }
    .deck{ width:100%; height:100%; position:relative; }

    .slide{
      width:100%; height:100%; background: var(--slide); color: var(--ink); border-radius: var(--radius);
      box-shadow: var(--shadow); position:absolute; inset:0; display:none; overflow:hidden; padding: 52px 64px;
      animation: slideIn .28s ease;
    }
    .slide.active{ display:block; }
    @keyframes slideIn{ from{ opacity:0; transform: translateY(14px) scale(.99); } to{ opacity:1; transform: translateY(0) scale(1); } }

    /* Decoration */
    .slide::before, .slide::after{ content:""; position:absolute; width: 240px; height: 240px; pointer-events:none; opacity:.95; z-index:0; }
    .slide::before{ top:-1px; left:-1px; background: radial-gradient(circle at 0% 0%, rgba(34,197,94,.22), transparent 55%), linear-gradient(135deg, rgba(22,163,74,.95), rgba(34,197,94,.55)); clip-path: polygon(0 0, 100% 0, 0 100%); }
    .slide::after{ bottom:-1px; right:-1px; background: radial-gradient(circle at 100% 100%, rgba(34,197,94,.22), transparent 55%), linear-gradient(315deg, rgba(22,163,74,.95), rgba(34,197,94,.55)); clip-path: polygon(100% 100%, 100% 0, 0 100%); }

    /* Content Layout */
    .slide-top{ position:relative; z-index:2; display:flex; align-items:center; justify-content:space-between; gap:20px; margin-bottom: 22px; }
    .meta{ display:flex; flex-direction:column; gap:4px; line-height:1.15; }
    .meta .course{ font-weight:900; letter-spacing:.08em; text-transform:uppercase; color: var(--ink); font-size: 15px; }
    .meta .sub{ font-size: 15px; color: var(--muted); }
    .pill{ display:inline-block; border:1px solid var(--soft); background: var(--soft2); border-radius: 999px; padding: 6px 14px; font-size: 14px; color: var(--muted); font-family: var(--mono); white-space:nowrap; }

    h1{ font-size: 56px; margin: 8px 0 10px; letter-spacing:-1.1px; line-height:1.06; position:relative; z-index:2; }
    h2{ font-size: 40px; margin: 6px 0 18px; letter-spacing:-0.8px; position:relative; z-index:2; }
    h3{ font-size: 26px; margin: 14px 0 10px; color: #0b2a14; position:relative; z-index:2; }
    p, li{ font-size: 22px; line-height:1.6; color: var(--ink); position:relative; z-index:2; margin: 10px 0; }
    .muted{ color: var(--muted); }

    .grid-2{ display:grid; grid-template-columns: 1.15fr 1fr; gap: 22px; align-items:start; position:relative; z-index:2; }
    .card{ background: var(--soft2); border: 1px solid var(--soft); border-radius: 18px; padding: 18px; position:relative; z-index:2; }
    .card-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 18px; margin-top: 14px; position:relative; z-index:2; }
    .info-card{ background: #ffffff; border: 1px solid var(--soft); border-left: 6px solid var(--accent); border-radius: 16px; padding: 16px; transition: transform .15s ease; }
    .info-card:hover{ transform: translateY(-2px); box-shadow: 0 10px 24px rgba(0,0,0,.10); }

    /* Code & Sims */
    .codebox{ background:#0b1220; border:1px solid rgba(255,255,255,.12); border-radius: 18px; padding: 16px; color:#cbd5e1; font-family: var(--mono); font-size: 14px; line-height:1.6; overflow:auto; max-height: 420px; white-space: pre-wrap; position:relative; z-index:2; }
    .codebox .kw{ color:#a78bfa; } .codebox .cm{ color:#60a5fa; } .codebox .dim{ color:#94a3b8; }
    .sim{ background:#0b2a14; border: 1px solid rgba(34,197,94,.25); padding: 16px; border-radius: 16px; color:#eafff1; position:relative; z-index:2; margin-top:16px; }
    .sim-row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top:10px; }
    .sim select, .sim input, .sim button, .input, .select, .btn { border-radius: 12px; padding: 10px 12px; font-weight:900; font-family: var(--mono); border:none; outline:none; }
    .sim button, .btn { cursor:pointer; background: #13213a; color:#e5e7eb; border: 1px solid rgba(255,255,255,.18); }
    .sim button:hover, .btn:hover { filter: brightness(1.1); }
    .input, .select { border:1px solid #e5e7eb; min-width:140px; }
    .btn { background: rgba(22,163,74,.12); border-color: rgba(22,163,74,.35); color:#0b2a14; }
    .sim-out, .outbox { margin-top: 10px; background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.12); border-radius: 14px; padding: 12px; font-family: var(--mono); font-size: 14px; white-space: pre-wrap; color:#eafff1; }
    .outbox { background:#fff; color:var(--ink); border:1px dashed rgba(15,23,42,.25); }

    /* Chips & Diagrams */
    .chips{ display:flex; flex-wrap:wrap; gap:10px; margin-top:10px; }
    .chip{ cursor:pointer; padding: 10px 14px; border-radius: 999px; border:1px solid var(--soft); background: var(--soft2); font-family: var(--mono); font-size: 14px; color: var(--muted); transition: all .12s ease; }
    .chip.on{ border-color: rgba(22,163,74,.45); background: rgba(34,197,94,.10); color:#0b2a14; box-shadow: 0 12px 26px rgba(22,163,74,.12); }
    .chip.right{ background: #dcfce7; border-color: #22c55e; color: #166534; } 
    .chip.wrong{ background: #fee2e2; border-color: #ef4444; color: #991b1b; }
    
    .diagram{ background: #ffffff; border: 1px solid var(--soft); border-radius: 18px; padding: 18px; position:relative; z-index:2; }
    .tree{ display:flex; flex-direction:column; gap: 14px; align-items:center; }
    .node{ display:inline-block; padding: 10px 12px; border-radius: 14px; border: 1px solid var(--soft); background: var(--soft2); font-family: var(--mono); font-weight:900; color:var(--ink); }
    .line{ width: 4px; height: 18px; background: linear-gradient(180deg, var(--accent), var(--accent2)); border-radius: 99px; margin: 0 auto; }
    .mini-table { width:100%; border-radius:16px; border:1px solid var(--soft); background:#fff; margin-top:10px; z-index:2; position:relative; border-collapse: separate; border-spacing: 0; }
    .mini-table td, .mini-table th { padding:10px; border-bottom:1px solid var(--soft); }
    
    /* Footer */
    .slide-footer{ position:absolute; left: 64px; right: 64px; bottom: 22px; display:flex; align-items:center; justify-content:space-between; color: var(--muted); font-size: 14px; z-index:3; }
    .slide-no{ font-family: var(--mono); background: var(--soft2); border: 1px solid var(--soft); padding: 6px 12px; border-radius: 999px; color: var(--muted); }
    .corner-nav{ position:fixed; right: 18px; bottom: 18px; display:flex; align-items:center; gap: 10px; z-index:9999; }
    .iconbtn{ width: 46px; height: 46px; display:grid; place-items:center; border-radius: 14px; border: 1px solid rgba(255,255,255,.22); background: rgba(15,23,42,.45); color:#e5e7eb; cursor:pointer; backdrop-filter: blur(10px); }
    .mini-counter{ font-family: var(--mono); font-size: 13px; padding: 10px 12px; border-radius: 999px; background: rgba(15,23,42,.45); color:#e5e7eb; backdrop-filter: blur(10px); }
  </style>
</head>

<body>
  <div id="progress-container"><div id="progress-bar"></div></div>

  <div class="stage">
    <div class="deck-wrap" id="deckWrap">
      <div class="deck" id="deck">

        <section class="slide active">
          <div class="slide-top"><div class="meta"><div class="course">COIS 2020H • Lecture 2</div><div class="sub">Lecture 2 (Part 1) — Classes & Encapsulation</div></div><span class="pill">Foundations</span></div>
          <h1>Classes & Encapsulation</h1>
          <p class="muted">Modeling objects, protecting data, and exposing clean operations.</p>
          <div class="card" style="margin-top:22px;">
             <p><strong>Instructor:</strong> Ahmad Mousa<br/><span class="muted">Trent University — Durham GTA</span></p>
             <ul style="margin-top:14px;">
               <li>Objects vs Classes.</li>
               <li>Encapsulation & Information Hiding.</li>
               <li>Access Modifiers.</li>
             </ul>
          </div>
          <div class="card" style="margin-top:16px;">
            <h3 style="margin-top:0;">Warm-up</h3>
            <div class="chips" id="warmupChips">
              <div class="chip" data-kind="STATE">StudentName</div><div class="chip" data-kind="BEHAVIOR">Enroll()</div>
              <div class="chip" data-kind="STATE">Balance</div><div class="chip" data-kind="BEHAVIOR">Withdraw()</div>
            </div>
            <div class="outbox" id="warmupOut">Tap a chip to reveal State vs Behavior.</div>
          </div>
          <div class="slide-footer"><div class="muted">Use Arrows to Navigate</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Concepts</div><div class="sub">Definitions</div></div><span class="pill">Roadmap</span></div>
            <h2>Core Concepts</h2>
            <div class="card-grid">
              <div class="info-card"><h3>Classes</h3><p>Blueprints describing state + behavior.</p></div>
              <div class="info-card"><h3>Encapsulation</h3><p>Bundling data and methods.</p></div>
              <div class="info-card"><h3>Access</h3><p>Public, Private, Protected.</p></div>
            </div>
            <div class="card" style="margin-top:16px;">
              <div class="chips" id="conceptChips">
                <div class="chip" data-key="classes">Classes</div><div class="chip" data-key="members">Members</div>
                <div class="chip" data-key="methods">Methods</div><div class="chip" data-key="encap">Encapsulation</div>
              </div>
              <div class="outbox" id="conceptOut">Click a concept to load definition.</div>
            </div>
            <div class="slide-footer"><div class="muted">Foundations</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Objects</div><div class="sub">Instances</div></div><span class="pill">Sandbox</span></div>
            <h2>Object Sandbox</h2>
            <div class="grid-2">
              <div class="info-card">
                <h3>State & Behavior</h3>
                <ul><li>State: Properties (Name, ID).</li><li>Behavior: Methods (Act, Describe).</li></ul>
              </div>
              <div class="info-card">
                <h3>Mini Lab</h3>
                <div class="row">
                  <select class="select" id="objType"><option>Student</option><option>BankAccount</option></select>
                  <button class="btn" id="objReset">Reset</button>
                </div>
                <div class="row" style="margin-top:10px;">
                  <input class="input" id="objKey" placeholder="Prop (e.g. Name)">
                  <input class="input" id="objVal" placeholder="Val (e.g. Ali)">
                  <button class="btn" id="objSet">Set</button>
                </div>
                <div class="row" style="margin-top:10px;"><button class="btn" id="objRun">Run Behavior</button></div>
                <div class="outbox" id="objOut">Configure and run an object.</div>
              </div>
            </div>
            <div class="slide-footer"><div class="muted">Interactive</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
             <div class="slide-top"><div class="meta"><div class="course">Classes</div><div class="sub">Blueprints</div></div><span class="pill">Diagram</span></div>
             <h2>Class vs Object</h2>
                          <div class="grid-2">
                 <div class="info-card">
                   <h3>Blueprint to Instance</h3>
                   <div class="row"><select class="select" id="bpClass"><option value="Car">Car</option><option value="Student">Student</option></select><button class="btn" id="bpMake">Create 2 Instances</button></div>
                   <table class="mini-table" id="bpTable"><thead><tr><th>Instance</th><th>State</th></tr></thead><tbody><tr><td colspan="2" class="muted">Click Create...</td></tr></tbody></table>
                 </div>
                 <div class="card">
                     <h3 id="sortItem">Film</h3>
                     <div class="chips"><div class="chip" id="pickClass">Class</div><div class="chip" id="pickObj">Object</div></div>
                     <div class="outbox" id="sortOut">Score: 0</div>
                 </div>
             </div>
             <div class="slide-footer"><div class="muted">Objects have unique state</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
             <div class="slide-top"><div class="meta"><div class="course">Example</div><div class="sub">CustomClass</div></div><span class="pill">Syntax</span></div>
             <h2>A Simple Class</h2>
             <div class="grid-2">
<div class="codebox"><span class="kw">public class</span> CustomClass {
  <span class="kw">public int</span> Number { <span class="kw">get</span>; <span class="kw">set</span>; }

  <span class="kw">public int</span> Multiply(<span class="kw">int</span> n) {
    <span class="kw">return</span> n * Number;
  }
}</div>
                 <div class="info-card">
                     <h3>Mini Lab</h3>
                     <div class="row"><input class="input" type="number" id="mulNumber" value="10"><input class="input" type="number" id="mulArg" value="5"><button class="btn" id="mulRun">Run Multiply()</button></div>
                     <div class="outbox" id="mulOut">Result...</div>
                 </div>
             </div>
             <div class="slide-footer"><div class="muted">Code Structure</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Execution</div><div class="sub">Trace</div></div><span class="pill">Memory</span></div>
            <h2>Using the Class</h2>
            <div class="grid-2">
<div class="codebox"><span class="kw">var</span> obj = <span class="kw">new</span> CustomClass();
obj.Number = 27;
<span class="kw">int</span> result = obj.Multiply(4);</div>
                <div class="info-card">
                    <h3>Memory Trace</h3>
                    <button class="btn" id="traceRun">Trace Execution</button>
                    <table class="mini-table" id="traceTable"><thead><tr><th>Step</th><th>State</th></tr></thead><tbody><tr><td colspan="2">Waiting...</td></tr></tbody></table>
                </div>
            </div>
            <div class="slide-footer"><div class="muted">Step by step</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Practice</div><div class="sub">Debugging</div></div><span class="pill">Challenge</span></div>
            <h2>Small Challenge</h2>
            <div class="card">
                <h3>Make output = 200</h3>
                <div class="row"><input class="input" id="taskNumber" type="number" value="27" placeholder="Number"><input class="input" id="taskArg" type="number" value="4" placeholder="Arg"><button class="btn" id="taskCheck">Check</button></div>
                <div class="outbox" id="taskOut">Result...</div>
            </div>
            <div class="slide-footer"><div class="muted">Logic check</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Lifecycle</div><div class="sub">Constructors</div></div><span class="pill">Init</span></div>
            <h2>Constructors</h2>
            <p>Ensure objects start in a valid state.</p>
            <div class="grid-2">
                <div class="info-card">
                    <h3>Mini Builder</h3>
                    <div class="row"><select id="ctorType" class="select"><option value="blank">Blank</option><option value="reg">Regular</option></select></div>
                    <div class="row" style="margin-top:10px;"><input class="input" id="ctorName" placeholder="Name"><button class="btn" id="ctorBuild">new Student(...)</button></div>
                    <div class="outbox" id="ctorOut">Object not created.</div>
                </div>
                <div class="sim">
                    <div style="font-weight:900;">Destructor Sim</div>
                    <div class="sim-row"><button onclick="lifeCreate()">Create</button><button onclick="lifeDrop()">Drop Ref</button><button onclick="lifeGC()">GC</button></div>
                    <div class="sim-out" id="lifeOut">Timeline...</div>
                </div>
            </div>
            <div class="slide-footer"><div class="muted">Lifecycle</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
             <div class="slide-top"><div class="meta"><div class="course">Design</div><div class="sub">Organization</div></div><span class="pill">Modeling</span></div>
             <h2>Why Classes?</h2>
             <div class="grid-2">
                 <div class="info-card">
                     <h3>Design Generator</h3>
                     <div class="row"><select class="select" id="domainSel"><option value="Thermostat">Thermostat</option><option value="LibraryBook">LibraryBook</option></select><button class="btn" id="domainGen">Generate Design</button></div>
                     <div class="outbox" id="domainOut">Select domain...</div>
                 </div>
                 <div class="card">
                     <h3>Benefits</h3>
                     <ul><li>One responsibility.</li><li>State + Behavior together.</li><li>Clean API.</li></ul>
                 </div>
             </div>
             <div class="slide-footer"><div class="muted">Structure</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Security</div><div class="sub">Encapsulation</div></div><span class="pill">Safety</span></div>
            <h2>Encapsulation Demo</h2>
                        <div class="grid-2">
                <div class="info-card">
                    <h3>Safe Access</h3>
                    <div class="row"><input class="input" id="bal" value="100" type="number"><input class="input" id="wd" value="200" type="number" placeholder="Withdraw"><button class="btn" id="withdrawBtn">Withdraw()</button></div>
                    <div class="outbox" id="encOut">Try withdrawing more than balance.</div>
                </div>
                <div class="info-card">
                    <h3>Direct Access (Bad)</h3>
                    <div class="row"><button class="btn" id="directSetBtn">Try Direct Set</button></div>
                    <div class="outbox">Blocked: Field should be private.</div>
                </div>
            </div>
            <div class="slide-footer"><div class="muted">Protection</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
             <div class="slide-top"><div class="meta"><div class="course">Design</div><div class="sub">Evaluation</div></div><span class="pill">Critique</span></div>
             <h2>Encapsulation vs Hiding</h2>
             <div class="card">
                 <div class="row"><select class="select" id="designSel"><option value="allPublic">All Public</option><option value="mixed">Mixed</option></select><button class="btn" id="designEval">Evaluate</button></div>
                 <div class="outbox" id="designOut">Check security...</div>
             </div>
             <div class="slide-footer"><div class="muted">Best Practices</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Access</div><div class="sub">Modifiers</div></div><span class="pill">Scope</span></div>
            <h2>Access Modifiers</h2>
                        <div class="card-grid">
                <div class="info-card"><h3>public</h3><p>Everyone.</p></div>
                <div class="info-card"><h3>private</h3><p>Only me.</p></div>
                <div class="info-card"><h3>protected</h3><p>Me + Kids.</p></div>
            </div>
            <div class="sim">
                <div class="sim-row">
                    <select id="simModifier"><option value="public">public</option><option value="private">private</option><option value="protected">protected</option></select>
                    <select id="simCaller"><option value="sameClass">Same Class</option><option value="derivedClass">Derived</option><option value="otherAssembly">External</option></select>
                    <button onclick="checkAccess()">Check Access</button>
                </div>
                <div class="sim-out" id="simOut">Result...</div>
            </div>
            <div class="slide-footer"><div class="muted">Scope Control</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
             <div class="slide-top"><div class="meta"><div class="course">Modifier</div><div class="sub">Public</div></div><span class="pill">Risk</span></div>
             <h2>Public Risks</h2>
             <div class="info-card">
                 <h3>Break Invariants</h3>
                 <div class="row"><input class="input" id="pubBal" value="100"><input class="input" id="pubSet" value="-500"><button class="btn" id="pubApply">Set</button></div>
                 <div class="outbox" id="pubOut">Result...</div>
             </div>
             <div class="slide-footer"><div class="muted">Validation skipped</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
             <div class="slide-top"><div class="meta"><div class="course">Modifier</div><div class="sub">Private</div></div><span class="pill">Computed</span></div>
             <h2>Private / Computed</h2>
             <div class="info-card">
                  <div class="row"><input class="input" id="radius" value="3"><button class="btn" id="areaBtn">GetArea()</button></div>
                  <div class="row" style="margin-top:10px;"><button class="btn" id="setAreaBtn">Try SetArea()</button></div>
                  <div class="outbox" id="areaOut">Result...</div>
             </div>
             <div class="slide-footer"><div class="muted">Derived state</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
             <div class="slide-top"><div class="meta"><div class="course">Modifier</div><div class="sub">Protected</div></div><span class="pill">Inheritance</span></div>
             <h2>Protected Access</h2>
             <div class="info-card">
                 <div class="row"><select id="protWho" class="select"><option value="sameClass">Base</option><option value="derivedClass">Derived</option><option value="otherClass">Other</option></select><button class="btn" id="protTry">Check</button></div>
                 <div class="outbox" id="protOut">Result...</div>
             </div>
             <div class="slide-footer"><div class="muted">Family only</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Summary</div><div class="sub">Part 1</div></div><span class="pill">Quiz</span></div>
            <h2>Part 1 Quiz</h2>
            <div class="card">
                <div class="chips" data-quiz="q1" data-right="same"><div class="chip" data-a="same">Private: Same Class</div><div class="chip" data-a="any">Private: Any</div></div>
                <div class="outbox" id="quizOut">Score: 0</div>
            </div>
            <div class="slide-footer"><div class="muted">End Part 1</div><div class="slide-no" data-slide-no></div></div>
        </section>


        <section class="slide" data-title="Part 2 Intro">
            <div class="slide-top"><div class="meta"><div class="course">COIS 2020H • Lecture 2</div><div class="sub">Lecture 2 (Part 2) — Static • Inheritance • Polymorphism</div></div><span class="pill">Advanced</span></div>
            <h1>OOP Pillars</h1>
            <p class="muted">Extending behavior and reusing code.</p>
            <div class="card">
                <ul>
                    <li><strong>Static:</strong> Shared members.</li>
                    <li><strong>Inheritance:</strong> Class hierarchies.</li>
                    <li><strong>Polymorphism:</strong> Dynamic behavior.</li>
                    <li><strong>Generics:</strong> Type safety.</li>
                </ul>
            </div>
            <div class="slide-footer"><div class="muted">Part 2</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Static</div><div class="sub">Classes</div></div><span class="pill">Utility</span></div>
            <h2>Static Classes</h2>
            <div class="grid-2">
                <div class="info-card">
                    <h3>System.Math</h3>
                    <p>Static classes cannot be instantiated. They group utility methods.</p>
                </div>
                <div class="sim">
                    <div style="font-weight:900;">Math Playground</div>
                    <div class="sim-row"><input id="mathInput" value="-5.5" class="input"><button onclick="mathApply('abs')">Abs()</button><button onclick="mathApply('floor')">Floor()</button></div>
                    <div class="sim-out" id="mathOut">Static methods don't need 'new'.</div>
                </div>
            </div>
            <div class="slide-footer"><div class="muted">Static</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Static</div><div class="sub">Members</div></div><span class="pill">Shared</span></div>
            <h2>Static Members</h2>
            <div class="sim">
                <div style="font-weight:900;">Shared State Sim</div>
                <div class="sim-row">
                    <button onclick="staticSimCreate()">New Car</button>
                    <button onclick="staticSimHonk()">Honk (Instance)</button>
                    <button onclick="staticSimChangeWheels()">Change Static Wheels</button>
                </div>
                <div class="sim-out" id="staticOut">No cars.</div>
            </div>
            <div class="slide-footer"><div class="muted">Shared memory</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
             <div class="slide-top"><div class="meta"><div class="course">Static</div><div class="sub">Variables</div></div><span class="pill">One Copy</span></div>
             <h2>Static Variables</h2>
             <div class="sim">
                 <div class="sim-row">
                     <select id="autoPick" class="select"></select>
                     <input id="autoColor" class="input" placeholder="Color">
                     <button onclick="autoSetColor()">Set</button>
                     <button onclick="autoShow()">Show All</button>
                 </div>
                 <div class="sim-out" id="autoOut">Create cars first (prev slide).</div>
             </div>
             <div class="slide-footer"><div class="muted">One copy per type</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
             <div class="slide-top"><div class="meta"><div class="course">Static</div><div class="sub">Public</div></div><span class="pill">Global</span></div>
             <h2>Public Static</h2>
             <div class="card"><p>Used for global constants or read-only shared properties (e.g. <code>Math.PI</code>).</p></div>
             <div class="slide-footer"><div class="muted">Read-only recommended</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Inheritance</div><div class="sub">Hierarchy</div></div><span class="pill">Is-A</span></div>
            <h2>Class Hierarchy</h2>
                        <div class="grid-2">
                <div class="diagram">
                    <div class="tree">
                        <div class="node">BaseClass</div>
                        <div class="line"></div>
                        <div class="node" style="display:flex;gap:20px;"><span class="node">ChildA</span><span class="node">ChildB</span></div>
                    </div>
                </div>
                <div class="info-card">
                    <h3>Concept</h3>
                    <p>Derived classes inherit members from base classes. C# supports single inheritance.</p>
                </div>
            </div>
            <div class="slide-footer"><div class="muted">Hierarchy</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Inheritance</div><div class="sub">Reuse</div></div><span class="pill">Extend</span></div>
            <h2>Inheritance</h2>
            <div class="sim">
                <div style="font-weight:900;">Inheritance Inspector</div>
                <div class="sim-row">
                    <select class="select" id="inhPick"><option value="SavingAccount">Savings</option><option value="CheckingAccount">Checking</option></select>
                    <button class="btn" onclick="inhExplain()">Inspect</button>
                </div>
                <div class="sim-out" id="inhOut">Select a derived class.</div>
            </div>
            <div class="slide-footer"><div class="muted">Code Reuse</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
             <div class="slide-top"><div class="meta"><div class="course">Inheritance</div><div class="sub">Example</div></div><span class="pill">Bank</span></div>
             <h2>Example: Accounts</h2>
             <div class="codebox"><span class="kw">public class</span> Saving : Account { ... }</div>
             <div class="slide-footer"><div class="muted">Specialization</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Inheritance</div><div class="sub">Chain</div></div><span class="pill">Deep</span></div>
            <h2>Inheritance Chain</h2>
            <div class="sim">
                <div class="sim-row">
                    <select id="chainMember" class="select"><option value="A.id">id (Class A)</option><option value="C.speed">speed (Class C)</option></select>
                    <button onclick="chainExplain()">Explain</button>
                </div>
                <div class="sim-out" id="chainOut">Result...</div>
            </div>
            <div class="slide-footer"><div class="muted">Transitive</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Abstract</div><div class="sub">Definition</div></div><span class="pill">Theory</span></div>
            <h2>Abstract</h2>
            <div class="card-grid">
                <div class="info-card"><h3>Meaning</h3><p>Incomplete implementation.</p></div>
                <div class="info-card"><h3>Use Case</h3><p>Define a contract for derived classes.</p></div>
            </div>
            <div class="slide-footer"><div class="muted">Template</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Abstract</div><div class="sub">Class</div></div><span class="pill">Base Only</span></div>
            <h2>Abstract Class</h2>
            <div class="sim">
                <div style="font-weight:900;">Instantiation Check</div>
                <div class="sim-row">
                    <select class="select" id="instPick"><option value="abstract">Shape (Abstract)</option><option value="concrete">Circle (Concrete)</option></select>
                    <button onclick="canInstantiate()">Try 'new'</button>
                </div>
                <div class="sim-out" id="instOut">Result...</div>
            </div>
            <div class="slide-footer"><div class="muted">Cannot instantiate</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Abstract</div><div class="sub">Method</div></div><span class="pill">Contract</span></div>
            <h2>Abstract Method</h2>
            <div class="codebox"><span class="kw">public abstract double</span> Area();</div>
            <p>Defines signature only. Must be overridden.</p>
            <div class="slide-footer"><div class="muted">No body</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Abstract</div><div class="sub">Example</div></div><span class="pill">Override</span></div>
            <h2>Abstract Example</h2>
            <div class="sim">
                <div class="sim-row">
                    <select id="absPick" class="select"><option value="missing">Missing Override</option><option value="ok">With Override</option></select>
                    <button onclick="absCheck()">Check Compile</button>
                </div>
                <div class="sim-out" id="absOut">Result...</div>
            </div>
            <div class="slide-footer"><div class="muted">Enforced</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Virtual</div><div class="sub">Optional</div></div><span class="pill">Flexibility</span></div>
            <h2>Virtual Method</h2>
            <div class="card"><p>Virtual methods provide a default implementation that <em>can</em> be overridden, unlike abstract which <em>must</em> be.</p></div>
            <div class="slide-footer"><div class="muted">Polymorphism base</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Polymorphism</div><div class="sub">Dynamic</div></div><span class="pill">Dispatch</span></div>
            <h2>Polymorphism</h2>
                        <div class="sim">
                <div style="font-weight:900;">Shape List</div>
                <div class="sim-row">
                    <button onclick="polyAdd('Circle')">Add Circle</button>
                    <button onclick="polyAdd('Rectangle')">Add Rect</button>
                    <button onclick="polyRun()">Run Draw()</button>
                    <button onclick="polyClear()">Clear</button>
                </div>
                <div class="sim-out" id="polyOut">Empty.</div>
            </div>
            <div class="slide-footer"><div class="muted">One list, many forms</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Code</div><div class="sub">Override</div></div><span class="pill">Example</span></div>
            <h2>Code Example</h2>
            <div class="codebox"><span class="kw">foreach</span>(Shape s <span class="kw">in</span> shapes) {
   s.Draw(); <span class="cm">// Runtime decides which Draw() to call</span>
}</div>
            <div class="slide-footer"><div class="muted">Late Binding</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
             <div class="slide-top"><div class="meta"><div class="course">Example</div><div class="sub">List</div></div><span class="pill">Collection</span></div>
             <h2>List&lt;Shape&gt;</h2>
             <div class="card"><p>Store derived objects in a base class list to process them uniformly.</p></div>
             <div class="slide-footer"><div class="muted">Pattern</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Summary</div><div class="sub">3 Pillars</div></div><span class="pill">Core</span></div>
            <h2>3 Cores of OOP</h2>
            <div class="card-grid">
                <div class="info-card"><h3>Encapsulation</h3><p>Bundle & Protect.</p></div>
                <div class="info-card"><h3>Inheritance</h3><p>Reuse & Extend.</p></div>
                <div class="info-card"><h3>Polymorphism</h3><p>Dynamic Behavior.</p></div>
            </div>
            <div class="slide-footer"><div class="muted">OOP Pillars</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Generics</div><div class="sub">Intro</div></div><span class="pill">&lt;T&gt;</span></div>
            <h2>Generics</h2>
            <div class="sim">
                <div style="font-weight:900;">Box&lt;T&gt; Simulator</div>
                <div class="sim-row">
                    <select id="genType" class="select"><option value="string">T = string</option><option value="int">T = int</option></select>
                    <input id="genValue" class="input" placeholder="Value...">
                    <button onclick="genAssign()">Assign</button>
                </div>
                <div class="sim-out" id="genOut">Type safety check...</div>
            </div>
            <div class="slide-footer"><div class="muted">Type Safety</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Generics</div><div class="sub">Template</div></div><span class="pill">Reusable</span></div>
            <h2>Generic Template</h2>
            <div class="codebox"><span class="kw">public class</span> Box&lt;T&gt; { <span class="kw">public</span> T Content; }</div>
            <div class="slide-footer"><div class="muted">Code Reuse</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Generics</div><div class="sub">Implementation</div></div><span class="pill">Nodes</span></div>
            <h2>Creating Generics</h2>
            <div class="sim">
                <div style="font-weight:900;">Generic List Sim</div>
                <div class="sim-row">
                    <select id="llType" class="select"><option value="string">List&lt;string&gt;</option><option value="int">List&lt;int&gt;</option></select>
                    <input id="llValue" class="input" placeholder="Push...">
                    <button onclick="llPush()">Push</button>
                    <button onclick="llPop()">Pop</button>
                </div>
                <div class="sim-out" id="llOut">List: []</div>
            </div>
            <div class="slide-footer"><div class="muted">Structures</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Namespace</div><div class="sub">Org</div></div><span class="pill">Scope</span></div>
            <h2>Namespace</h2>
            <div class="sim">
                <div class="sim-row">
                    <select id="nsPick" class="select"><option value="Console">Console</option><option value="List">List</option></select>
                    <button onclick="nsResolve()">Resolve</button>
                </div>
                <div class="sim-out" id="nsOut">Result...</div>
            </div>
            <div class="slide-footer"><div class="muted">Organization</div><div class="slide-no" data-slide-no></div></div>
        </section>

        <section class="slide">
            <div class="slide-top"><div class="meta"><div class="course">Wrap-up</div><div class="sub">Review</div></div><span class="pill">Q&A</span></div>
            <h2>Questions?</h2>
            <div class="card">
                <ol>
                    <li>Static vs Normal class?</li>
                    <li>Abstract vs Virtual?</li>
                    <li>How does Polymorphism work?</li>
                    <li>Why Generics?</li>
                </ol>
            </div>
            <div class="slide-footer"><div class="muted">End of Lecture 2</div><div class="slide-no" data-slide-no></div></div>
        </section>

      </div>
    </div>
  </div>

  <div class="corner-nav">
    <button class="iconbtn" id="prevBtn" onclick="go(-1)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg></button>
    <div class="mini-counter" id="miniCounter">1 / 1</div>
    <button class="iconbtn" id="nextBtn" onclick="go(1)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 6l6 6-6 6"/></svg></button>
    <button class="iconbtn" id="fsBtn" onclick="toggleFullScreen()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 3H5a2 2 0 00-2 2v3m13-5h3a2 2 0 012 2v3m-5 13h3a2 2 0 002-2v-3m-13 5H5a2 2 0 01-2-2v-3"/></svg></button>
  </div>

  <script>
    const slides = Array.from(document.querySelectorAll(".slide"));
    const progressBar = document.getElementById("progress-bar");
    const miniCounter = document.getElementById("miniCounter");
    let current = 0;

    function applyScale(){
      const s = Math.min(window.innerWidth/1600, window.innerHeight/900);
      document.documentElement.style.setProperty('--scale', Math.max(0.4, s));
    }

    function updateUI(){
      slides.forEach((s, i) => s.classList.toggle("active", i === current));
      progressBar.style.width = ((current + 1) / slides.length) * 100 + "%";
      miniCounter.textContent = `${current + 1} / ${slides.length}`;
      localStorage.setItem("cois2020_lec2_full", current);
    }

    function go(dir){
      current = Math.max(0, Math.min(slides.length - 1, current + dir));
      updateUI();
    }

    function toggleFullScreen(){
      !document.fullscreenElement ? document.documentElement.requestFullscreen() : document.exitFullscreen();
    }

    // --- PART 1 INTERACTIVES ---
    document.querySelectorAll("#warmupChips .chip").forEach(c => c.onclick = function(){
      this.classList.toggle("on");
      document.getElementById("warmupOut").textContent = `${this.textContent} is a ${this.dataset.kind}.`;
    });

    const concepts = {
        classes: "Blueprint for objects.", members: "State (Fields).", methods: "Behavior.", encap: "Bundling data + logic.", hide: "Protecting internals.", mods: "Public/Private/Protected.", generic: "Reusable with T."
    };
    document.querySelectorAll("#conceptChips .chip").forEach(c => c.onclick = function(){
      document.getElementById("conceptOut").textContent = concepts[this.dataset.key];
    });

    let objState = {};
    document.getElementById("objSet").onclick = () => {
        const k = document.getElementById("objKey").value;
        const v = document.getElementById("objVal").value;
        if(k) objState[k] = v;
        document.getElementById("objOut").textContent = JSON.stringify(objState);
    };
    document.getElementById("objRun").onclick = () => {
        document.getElementById("objOut").textContent = `Running behavior on: ${JSON.stringify(objState)}`;
    };
    document.getElementById("objReset").onclick = () => { objState={}; document.getElementById("objOut").textContent="Reset."; };

    document.getElementById("bpMake").addEventListener("click", ()=>{
      const c = document.getElementById("bpClass").value;
      const tbody = document.querySelector("#bpTable tbody");
      tbody.innerHTML = `<tr><td>${c} #1</td><td>Created</td></tr><tr><td>${c} #2</td><td>Created</td></tr>`;
    });

    const sortSet = [ {t:"Film",r:"class"}, {t:"Reel",r:"class"}, {t:"Star Wars",r:"object"} ];
    let sortIdx=0; let score=0;
    function checkSort(type){
       const item = sortSet[sortIdx % sortSet.length];
       if(type === item.r) score++;
       sortIdx++;
       document.getElementById("sortItem").textContent = sortSet[sortIdx%sortSet.length].t;
       document.getElementById("sortOut").textContent = `Score: ${score}`;
    }
    document.getElementById("pickClass").onclick = () => checkSort("class");
    document.getElementById("pickObj").onclick = () => checkSort("object");

    document.getElementById("mulRun").onclick = () => {
        const n = document.getElementById("mulNumber").value;
        const arg = document.getElementById("mulArg").value;
        document.getElementById("mulOut").textContent = `Result: ${n * arg}`;
    };

    document.getElementById("traceRun").addEventListener("click", ()=>{
      const tbody = document.querySelector("#traceTable tbody");
      tbody.innerHTML = `<tr><td>1</td><td>Init</td></tr><tr><td>2</td><td>Set=27</td></tr><tr><td>3</td><td>Mult(4)</td></tr><tr><td>4</td><td>108</td></tr>`;
    });

    document.getElementById("taskCheck").onclick = () => {
         const r = document.getElementById("taskNumber").value * document.getElementById("taskArg").value;
         document.getElementById("taskOut").textContent = r == 200 ? "✅ Perfect (200)" : `Result: ${r}`;
    };

    document.getElementById("ctorBuild").onclick = () => {
        document.getElementById("ctorOut").textContent = `Created Student: ${document.getElementById("ctorName").value || "Default"}`;
    };

    let lifeStep = 0;
    const lifeMsgs = ["1. Objects Created (Heap Alloc)", "2. Reference set to null", "3. GC runs (Destructor called)"];
    window.lifeCreate = () => { lifeStep=0; document.getElementById("lifeOut").textContent=lifeMsgs[0]; };
    window.lifeDrop = () => { lifeStep=1; document.getElementById("lifeOut").textContent=lifeMsgs[1]; };
    window.lifeGC = () => { lifeStep=2; document.getElementById("lifeOut").textContent=lifeMsgs[2]; };

    document.getElementById("domainGen").onclick = () => {
         const d = document.getElementById("domainSel").value;
         document.getElementById("domainOut").textContent = `${d}: State + Behavior generated.`;
    };

    document.getElementById("withdrawBtn").onclick = () => {
        const bal = parseInt(document.getElementById("bal").value);
        const wd = parseInt(document.getElementById("wd").value);
        if(wd > bal) document.getElementById("encOut").textContent = "⛔ Denied: Insufficient funds (Rule Enforced).";
        else {
            document.getElementById("bal").value = bal - wd;
            document.getElementById("encOut").textContent = "✅ Success.";
        }
    };
    document.getElementById("directSetBtn").onclick = () => document.getElementById("encOut").textContent = "Blocked: Field is private.";

    document.getElementById("designEval").onclick = () => {
        const v = document.getElementById("designSel").value;
        document.getElementById("designOut").textContent = v==="mixed" ? "✅ Good balance." : "⚠️ Risky.";
    };

    window.checkAccess = () => {
        const mod = document.getElementById("simModifier").value;
        const call = document.getElementById("simCaller").value;
        let ok = false;
        if(mod === "public") ok = true;
        if(mod === "private" && call === "sameClass") ok = true;
        if(mod === "protected" && (call === "sameClass" || call === "derivedClass")) ok = true;
        document.getElementById("simOut").textContent = ok ? "✅ Allowed" : "⛔ Denied";
    };

    document.getElementById("pubApply").onclick = () => {
        const v = document.getElementById("pubSet").value;
        document.getElementById("pubOut").textContent = v < 0 ? "⚠️ Invalid state set!" : "State set.";
    };

    document.getElementById("areaBtn").onclick = () => {
        document.getElementById("areaOut").textContent = `Area: ${(Math.PI * Math.pow(document.getElementById("radius").value, 2)).toFixed(2)}`;
    };
    document.getElementById("setAreaBtn").onclick = () => document.getElementById("areaOut").textContent = "⛔ Cannot set computed property.";

    document.getElementById("protTry").onclick = () => {
        const w = document.getElementById("protWho").value;
        document.getElementById("protOut").textContent = (w==="sameClass"||w==="derivedClass") ? "✅ Access" : "⛔ Denied";
    };

    let qScore = 0; const qAns = new Set();
    document.querySelectorAll("[data-quiz]").forEach(g => g.onclick = (e) => {
        const chip = e.target.closest(".chip");
        if(!chip) return;
        const q = g.dataset.quiz;
        if(qAns.has(q)) return;
        if(chip.dataset.a === g.dataset.right) { chip.classList.add("right"); qScore++; } else { chip.classList.add("wrong"); }
        qAns.add(q);
        document.getElementById("quizOut").textContent = `Score: ${qScore}`;
    });

    // --- PART 2 INTERACTIVES ---
    window.mathApply = (op) => {
        const v = parseFloat(document.getElementById("mathInput").value);
        let r = 0;
        if(op === 'abs') r = Math.abs(v);
        if(op === 'floor') r = Math.floor(v);
        document.getElementById("mathOut").textContent = `Math.${op}(${v}) = ${r}`;
    };

    let cars = [];
    window.staticSimCreate = () => { cars.push({honks:0}); updateStaticOut(); syncAutoPick(); };
    window.staticSimHonk = () => { if(cars.length) cars[cars.length-1].honks++; updateStaticOut(); };
    window.staticSimChangeWheels = () => { alert("Changed Automobile.Wheels (Shared by all!)"); updateStaticOut(); };
    function updateStaticOut(){
        document.getElementById("staticOut").textContent = `Cars: ${cars.length} | Last Car Honks: ${cars.length ? cars[cars.length-1].honks : 0} | Wheels: 4 (Static)`;
    }
    function syncAutoPick(){
        const s = document.getElementById("autoPick"); s.innerHTML="";
        cars.forEach((c,i) => { const o = document.createElement("option"); o.text=`Car ${i+1}`; s.add(o); });
    }
    window.autoSetColor = () => { document.getElementById("autoOut").textContent = "Color set (Instance state)."; };
    window.autoShow = () => { document.getElementById("autoOut").textContent = JSON.stringify(cars); };

    window.inhExplain = () => {
        const type = document.getElementById("inhPick").value;
        document.getElementById("inhOut").textContent = `${type} has: Balance, Deposit (Inherited) + Specialized members.`;
    };
    
    window.chainExplain = () => {
        const v = document.getElementById("chainMember").value;
        document.getElementById("chainOut").textContent = v.startsWith("A") ? "Defined in A, inherited by C." : "Defined in C.";
    };

    window.canInstantiate = () => {
        const t = document.getElementById("instPick").value;
        document.getElementById("instOut").textContent = t === 'abstract' ? "⛔ Error: Cannot instantiate abstract class." : "✅ Success.";
    };

    window.absCheck = () => {
         const v = document.getElementById("absPick").value;
         document.getElementById("absOut").textContent = v==="missing" ? "⛔ Error: Must override abstract method." : "✅ Compiles.";
    };

    const shapeList = [];
    window.polyAdd = (s) => { shapeList.push(s); document.getElementById("polyOut").textContent = `List: [${shapeList.join(", ")}]`; };
    window.polyRun = () => { document.getElementById("polyOut").textContent = shapeList.map(s => `Drawing a ${s}...`).join("\n"); };
    window.polyClear = () => { shapeList.length=0; document.getElementById("polyOut").textContent = "Empty."; };

    window.genAssign = () => {
        const t = document.getElementById("genType").value;
        const v = document.getElementById("genValue").value;
        const isInt = !isNaN(v) && v.trim() !== "";
        if(t === 'int' && !isInt) document.getElementById("genOut").textContent = "⛔ Type Mismatch: Expected int.";
        else document.getElementById("genOut").textContent = "✅ Assigned.";
    };

    let genericList = [];
    window.llPush = () => {
        const t = document.getElementById("llType").value;
        const v = document.getElementById("llValue").value;
        const isInt = !isNaN(v) && v.trim() !== "";
        if(t === 'int' && !isInt) { document.getElementById("llOut").textContent = "Error: Not an int."; return; }
        genericList.push(v);
        document.getElementById("llOut").textContent = `List: [${genericList.join(", ")}]`;
    };
    window.llPop = () => { genericList.pop(); document.getElementById("llOut").textContent = `List: [${genericList.join(", ")}]`; };

    window.nsResolve = () => {
        const v = document.getElementById("nsPick").value;
        document.getElementById("nsOut").textContent = `System.${v}`;
    };

    // --- INIT ---
    window.addEventListener("resize", applyScale);
    document.addEventListener("keydown", e => {
        if(e.key === "ArrowRight" || e.key === " " || e.key === "PageDown") go(1);
        if(e.key === "ArrowLeft" || e.key === "PageUp") go(-1);
        if(e.key.toLowerCase() === "f") toggleFullScreen();
    });
    
    const saved = localStorage.getItem("cois2020_lec2_full");
    if(saved) current = parseInt(saved);
    applyScale();
    updateUI();
  </script>
</body>
</html>