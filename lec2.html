<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>COIS 2020H ‚Äî Lecture 2: Complete OOP</title>
  
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    :root{
      /* --- THEME: Forest / Clean Academic (Matches lec2_ahmad.html) --- */
      --stage0:#0b1220;
      --stage1:#0f1a2e;
      --slide:#ffffff;
      --ink:#0f172a;
      --muted:#475569;
      --soft:#e2e8f0;
      --soft2:#f1f5f9;
      --accent:#16a34a;
      --accent2:#22c55e;
      --accent-danger:#ef4444;
      --radius: 20px;
      --shadow: 0 25px 60px rgba(0,0,0,.45);

      --font-sans: "Segoe UI", system-ui, -apple-system, sans-serif;
      --font-mono: ui-monospace, SFMono-Regular, Menlo, monospace;

      --slide-w: 1600px;
      --slide-h: 900px;
    }

    *{ box-sizing:border-box; margin:0; padding:0; }
    
    body{
      font-family: var(--font-sans);
      background:
        radial-gradient(1400px 800px at 20% 10%, rgba(34,197,94,.15), transparent 60%),
        radial-gradient(1200px 800px at 85% 20%, rgba(22,163,74,.10), transparent 55%),
        linear-gradient(180deg, var(--stage0), var(--stage1));
      color: var(--ink);
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    /* --- SLIDE CONTAINER --- */
    #viewport {
      width: var(--slide-w);
      height: var(--slide-h);
      position: relative;
    }
/* GC Visuals */
    .gc-box {
       width: 140px; height: 140px;
       background: #15803d; /* Green (Healthy) */
       border: 2px solid #4ade80;
       border-radius: 16px;
       display: flex; flex-direction: column; align-items: center; justify-content: center;
       color: #fff; font-family: var(--font-mono);
       box-shadow: 0 10px 25px rgba(0,0,0,0.3);
       transition: all 0.5s ease;
       position: relative;
    }
    
    /* The "Wire" (Reference) */
    .gc-box::before {
       content: "Ref: s";
       position: absolute; top: -40px;
       background: #3b82f6; color: #fff; padding: 4px 10px; border-radius: 99px; font-size: 12px;
       border: 1px dashed rgba(255,255,255,0.5);
    }
    .gc-box::after {
       content: "";
       position: absolute; top: -20px; height: 20px; width: 2px; background: #fff;
    }

    /* Orphan State (Garbage) */
    .gc-box.orphan {
       background: #991b1b; /* Red */
       border-color: #ef4444;
       transform: rotate(5deg);
    }
    .gc-box.orphan::before { content: "No Ref"; background: #64748b; opacity: 0.5; }
    .gc-box.orphan::after { display: none; } /* Cut wire */

    /* Collected State (Gone) */
    .gc-box.gone {
       transform: scale(0) rotate(180deg);
       opacity: 0;
    }
    /* --- SLIDES --- */
    .slide {
      position: absolute; inset: 0; padding: 52px 64px;
      display: none; opacity: 0; transform: translateY(14px) scale(0.99);
      transition: opacity 0.28s ease, transform 0.28s cubic-bezier(0.25, 1, 0.5, 1);
      z-index: 1;
      
      /* White Card Look */
      background: var(--slide); 
      color: var(--ink); 
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }
    .slide.active { display: block; opacity: 1; transform: translateY(0) scale(1); }

    /* Decoration (Green Glows) */
    .slide::before{ content:""; position:absolute; top:-1px; left:-1px; width:240px; height:240px; background: radial-gradient(circle at 0% 0%, rgba(34,197,94,.22), transparent 55%), linear-gradient(135deg, rgba(22,163,74,.95), rgba(34,197,94,.55)); clip-path: polygon(0 0, 100% 0, 0 100%); opacity:.95; z-index:0; pointer-events:none; }
    .slide::after{ content:""; position:absolute; bottom:-1px; right:-1px; width:240px; height:240px; background: radial-gradient(circle at 100% 100%, rgba(34,197,94,.22), transparent 55%), linear-gradient(315deg, rgba(22,163,74,.95), rgba(34,197,94,.55)); clip-path: polygon(100% 100%, 100% 0, 0 100%); opacity:.95; z-index:0; pointer-events:none; }

    /* Typography */
    h1 { font-size: 56px; margin: 8px 0 10px; letter-spacing:-1.1px; line-height:1.06; position:relative; z-index:2; }
    h2 { font-size: 40px; margin: 6px 0 18px; letter-spacing:-0.8px; color: #0b2a14; display:flex; gap:15px; align-items:center; position:relative; z-index:2; }
    h2::before { content:'//'; color: var(--accent); font-family: var(--font-mono); font-size: 0.8em; }
    h3 { font-size: 26px; margin: 14px 0 10px; color: #0b2a14; position:relative; z-index:2; }
    p, li { font-size: 22px; line-height:1.6; color: var(--ink); margin: 10px 0; position:relative; z-index:2; }
    .muted { color: var(--muted); font-size: 0.9em; }
    .mono { font-family: var(--font-mono); color: var(--muted); background: var(--soft2); border:1px solid var(--soft); padding: 2px 8px; border-radius: 99px; font-size: 0.85em; }

    /* Layouts */
    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; position:relative; z-index:2; }
    .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 30px; position:relative; z-index:2; }
    .card { background: var(--soft2); border: 1px solid var(--soft); border-radius: 18px; padding: 20px; position:relative; z-index:2; }
    .card-header { font-size: 14px; text-transform: uppercase; color: var(--muted); letter-spacing: 1px; font-weight: 700; margin-bottom: 10px; }
    .flex-col { display: flex; flex-direction: column; gap: 15px; }
    .flex-center { display: flex; align-items: center; justify-content: center; height: 100%; text-align: center; flex-direction: column; }
/* Trace Highlight */
    .active-line { background: rgba(34,197,94,0.25); border-left: 3px solid #22c55e; color: #fff; }

    /* Memory Blocks */
    .stack-var { 
       background: #334155; border: 1px solid #475569; border-radius: 6px; 
       padding: 8px; margin-bottom: 8px; font-family: var(--font-mono); font-size: 14px;
       display: flex; justify-content: space-between; align-items: center;
       animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    
    .heap-obj {
       background: #14532d; border: 1px solid #22c55e; border-radius: 8px;
       padding: 10px; width: 140px; font-family: var(--font-mono); font-size: 13px;
       position: absolute; text-align: center;
       box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
       transition: all 0.5s ease;
       animation: fadeIn 0.5s ease;
    }

    .mem-address { color: #fbbf24; font-weight: bold; }
    .mem-val { color: #38bdf8; }

    @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    /* Code Blocks (Dark for contrast) */
    .code-block {
      background:#0b1220; border:1px solid rgba(255,255,255,.12); border-radius: 18px; padding: 20px; 
      color:#27cc6c; font-family: var(--font-mono); font-size: 16px; line-height:1.6; white-space: pre-wrap; position:relative; z-index:2;
    }
    .kw { color:#a78bfa; } .ty { color:#f59e0b; } .str { color:#34d399; } .com { color:#64748b; font-style: italic; }

    /* Simulators */
    .sim-box { background:#0b2a14; border: 1px solid rgba(34,197,94,.25); padding: 20px; border-radius: 16px; color:#eafff1; margin-top:16px; position:relative; z-index:2; }
    .sim-title { font-family: var(--font-mono); font-size: 12px; text-transform: uppercase; color: #4ade80; display:block; margin-bottom:10px; }
    .console-out { background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.12); border-radius: 14px; padding: 12px; font-family: var(--font-mono); font-size: 14px; color:#eafff1; min-height:50px; white-space:pre-wrap; }

    /* Buttons & Inputs */
/* Buttons & Inputs */
    .btn { 
      /* Primary Button (Green) */
      background: rgba(22, 163, 74, 0.15); 
      border: 1px solid var(--accent); 
      color: #182a1e; /* Light mint text */
      padding: 10px 18px; 
      border-radius: 12px; 
      font-weight: 700; 
      cursor: pointer; 
      font-family: var(--font-mono); 
      display: inline-flex; 
      gap: 8px; 
      align-items: center; 
      transition: all 0.2s ease;
      text-shadow: 0 1px 2px rgba(0,0,0,0.3);
    }
    @keyframes spin { 100% { transform: rotate(360deg); } }
    
    .shake { animation: shakeAnim 0.4s ease-in-out; }
    @keyframes shakeAnim { 
       0%, 100% { transform: translateX(0); } 
       25% { transform: translateX(-10px); } 
       75% { transform: translateX(10px); } 
    }

    .pulse-green { animation: pulseAnim 0.5s ease-in-out; }
    @keyframes pulseAnim {
       0% { transform: scale(1); }
       50% { transform: scale(1.2); color: #4ade80; }
       100% { transform: scale(1); }
    }
    .btn:hover { 
      background: var(--accent); 
      color: #fff; 
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(22, 163, 74, 0.4);
    }

    .btn:active { transform: translateY(0); }

    .btn.secondary { 
      /* Secondary Button (Ghost/White) */
      background: rgba(255, 255, 255, 0.05); 
      border-color: rgba(2, 68, 22, 0.25); 
      color: rgba(27, 4, 79, 0.8); 
    }
    
    .btn.secondary:hover { 
      background: rgba(255, 255, 255, 0.15); 
      border-color: #fff; 
      color: #fff; 
      box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
    }

    .btn.danger { 
      /* Danger Button (Red) */
      background: rgba(239, 68, 68, 0.1); 
      border-color: var(--accent-danger); 
      color: #fca5a5; 
    }
    
    .btn.danger:hover { 
      background: var(--accent-danger); 
      color: #fff; 
      box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
    }

    .btn-row { display: flex; gap: 12px; flex-wrap: wrap; }

    /* Inputs */
    .sim-input { 
      background: rgba(0, 0, 0, 0.2); 
      border: 1px solid rgba(255, 255, 255, 0.15); 
      color: #fff; 
      border-radius: 8px; 
      padding: 10px 12px; 
      font-family: var(--font-mono); 
      font-size: 14px;
      outline: none; 
      transition: all 0.2s ease;
    }
    
    .sim-input:focus { 
      border-color: var(--accent2); 
      background: rgba(0, 0, 0, 0.4);
      box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.2);
    }
    
    .sim-input::placeholder { color: rgba(255,255,255,0.4); }
    /* --- NAVIGATION --- */
    .progress-bar { position:fixed; top:0; left:0; width:0%; height:6px; background: linear-gradient(90deg, var(--accent), var(--accent2)); transition: width .25s ease; z-index:9999; }
    
    .corner-nav { position:fixed; right: 18px; bottom: 18px; display:flex; align-items:center; gap: 10px; z-index:9999; }
    .iconbtn { width: 46px; height: 46px; display:grid; place-items:center; border-radius: 14px; border: 1px solid rgba(255,255,255,.22); background: rgba(15,23,42,.45); color:#e5e7eb; cursor:pointer; backdrop-filter: blur(10px); transition: background 0.2s; }
    .iconbtn:hover { background: rgba(15,23,42,.65); }
    .mini-counter { font-family: var(--font-mono); font-size: 13px; padding: 10px 16px; border-radius: 999px; background: rgba(15,23,42,.45); color:#e5e7eb; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,.22); }
    
    /* Interactive Chips */
    .chips-container { display: flex; flex-wrap: wrap; gap: 10px; }
    .chip { padding: 8px 14px; border-radius: 99px; border: 1px solid var(--soft); background: #fff; color: var(--muted); cursor: pointer; font-family: var(--font-mono); font-size: 13px; }
    .chip:hover { border-color: var(--accent); color: var(--ink); }
    .chip.active { background: #dcfce7; border-color: var(--accent); color: #166534; }
    .chip.wrong { background: #fee2e2; border-color: var(--accent-danger); color: #991b1b; }
/* --- DRAG AND DROP ENHANCEMENTS --- */
    .draggable { cursor: grab; user-select: none; transition: all 0.2s ease; }
    .draggable:active { cursor: grabbing; transform: scale(1.05); }
    
    /* When an item is selected via Click instead of Drag */
    .chip.selected { 
      background: var(--accent); 
      color: #fff; 
      box-shadow: 0 0 15px rgba(34,197,94,0.6); 
      transform: scale(1.1);
    }

    .drop-zone { border: 2px solid transparent; background: var(--soft2); }
    .drop-zone.drag-over { border-color: var(--accent); background: #dcfce7; transform: scale(1.02); }

    /* Success state for dropped items */
    .chip.fixed { cursor: default; pointer-events: none; background: #fff; border-color: transparent; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    /* Memory Visualizer */
    .mem-stack, .mem-heap { background: rgba(255,255,255,0.1); border-radius: 12px; padding: 10px; min-height:200px; }
    .mem-block { background: #1e293b; margin-bottom: 5px; padding: 6px 10px; border-radius: 6px; font-family: var(--font-mono); font-size: 13px; color: #fff; display:flex; justify-content:space-between; animation: slideInLeft 0.3s ease; }
    @keyframes slideInLeft { from { opacity:0; transform:translateX(-10px); } to { opacity:1; transform:translateX(0); } }
  </style>
</head>
<body>
  <div id="progress-container"><div class="progress-bar" id="progressBar"></div></div>

  <div id="viewport">
    
    <section class="slide active">
      <div class="flex-center flex-col">
        <div class="mono" style="color:var(--accent)">COIS 2020H ‚Ä¢ Lecture 2</div>
        <h1>Object-Oriented Programming</h1>
        <p style="font-size: 28px; color: var(--muted);">Masterclass: Classes, Memory, & Encapsulation</p>
        <div class="grid-2" style="width: 80%; margin-top: 40px;">
          <div class="card">
            <div class="card-header">Instructor</div>
            <p><strong>Ahmad Mousa</strong><br>Trent University</p>
          </div>
          <div class="card">
            <div class="card-header">Masterclass Agenda</div>
            <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:center;">
              <span class="mono">Classes</span> <span class="mono">Heap/Stack</span> <span class="mono">Encapsulation</span>
              <span class="mono">Static</span> <span class="mono">Polymorphism</span> <span class="mono">Generics</span>
            </div>
          </div>
        </div>
      </div>
    </section>
<section class="slide">
      <h2>Interactive Warm-up: Sort the Logic</h2>
      <div class="grid-2">
         <div>
            <h3>1. The Pool</h3>
            <p>Drag items (or click to select) and move them to their correct definition.</p>
            
            <div id="drag-pool" class="chips-container" style="min-height: 150px; padding: 20px; border: 2px dashed var(--soft); border-radius: 16px; background: rgba(255,255,255,0.05);">
               <div class="chip draggable" draggable="true" data-type="State" ondragstart="drag(event)" onclick="selectChip(this)">Student Name</div>
               <div class="chip draggable" draggable="true" data-type="Behavior" ondragstart="drag(event)" onclick="selectChip(this)">Enroll()</div>
               <div class="chip draggable" draggable="true" data-type="State" ondragstart="drag(event)" onclick="selectChip(this)">Balance</div>
               <div class="chip draggable" draggable="true" data-type="Behavior" ondragstart="drag(event)" onclick="selectChip(this)">GetGrades()</div>
               <div class="chip draggable" draggable="true" data-type="State" ondragstart="drag(event)" onclick="selectChip(this)">IsActive</div>
               <div class="chip draggable" draggable="true" data-type="Behavior" ondragstart="drag(event)" onclick="selectChip(this)">Save()</div>
            </div>
            <div id="warmup-feedback" class="console-out" style="margin-top:15px; opacity:0; transition:opacity 0.3s;">...</div>
         </div>

         <div class="flex-col" style="justify-content:center;">
            
            <div class="card drop-zone" id="zone-state" 
                 ondragover="allowDrop(event)" 
                 ondrop="drop(event, 'State')"
                 onclick="clickDrop('State')"
                 style="border-left: 5px solid var(--accent); transition: transform 0.2s;">
               <div class="card-header" style="color:var(--accent); font-size:18px;">State (Data)</div>
               <p class="muted" style="font-size:16px;">Properties, Fields, Variables</p>
               <div class="zone-content" style="min-height:40px; display:flex; gap:5px; flex-wrap:wrap;"></div>
            </div>

            <div class="card drop-zone" id="zone-behavior" 
                 ondragover="allowDrop(event)" 
                 ondrop="drop(event, 'Behavior')"
                 onclick="clickDrop('Behavior')"
                 style="border-left: 5px solid #3b82f6; transition: transform 0.2s;">
               <div class="card-header" style="color:#3b82f6; font-size:18px;">Behavior (Logic)</div>
               <p class="muted" style="font-size:16px;">Methods, Functions, Actions</p>
               <div class="zone-content" style="min-height:40px; display:flex; gap:5px; flex-wrap:wrap;"></div>
            </div>

         </div>
      </div>
    </section>
<section class="slide">
      <h2>Classes & Objects</h2>
      <div class="grid-2">
        
        <div>
          <h3>The Concept</h3>
          <p>Classes are a <strong>data structure</strong> that encapsulates data and the behaviours (methods) that are allowed on that data.</p>
          
          <div class="card" style="margin-top: 30px; border-left: 4px solid var(--accent);">
             <div class="card-header">Software Module</div>
             <p>A class acts as a primary <strong>unit of abstraction</strong> in an Object-Oriented (OO) program.</p>
          </div>
        </div>

        <div class="card">
           <h3>A Class...</h3>
           <ul>
             <li><strong>Represents similar objects</strong><br><span class="muted">It defines the shared blueprint for its instances.</span></li>
             
             <li style="margin-top:15px;"><strong>Describes Structure</strong><br><span class="muted">Defines the properties (data) that every instance will have.</span></li>
             
             <li style="margin-top:15px;"><strong>Implement Behaviour</strong><br><span class="muted">Contains the methods (logic) that operate on the data.</span></li>
           </ul>
        </div>

      </div>
    </section>
    <section class="slide">
      <h2>Why Object-Oriented?</h2>
      <div class="grid-2">
        <div>
          <h3>The Problem: Procedural Chaos</h3>
          <p>In older styles (C/Pascal), data and functions were separate. As apps grew, dependencies became a tangled "spaghetti" mess.</p>
          <ul class="muted">
            <li>Global variables cause side effects.</li>
            <li>Hard to debug or extend.</li>
            <li>Copy-pasting code was common.</li>
          </ul>
        </div>
        <div class="card">
          <h3>The Solution: Objects</h3>
          <p>We model software after the real world. We group related data (state) and behaviors (methods) into <strong>Objects</strong>.</p>
          <ul>
            <li><strong>Modularity:</strong> Lego-block architecture.</li>
            <li><strong>Security:</strong> Hide internal state.</li>
            <li><strong>Reuse:</strong> Inheritance & Generics.</li>
          </ul>
        </div>
      </div>
    </section>
<section class="slide">
      <h2>Interactive Lab: Class or Object?</h2>
      <div class="grid-2">
         
         <div>
            <h3>The Logic</h3>
            <div class="card" style="margin-bottom:20px;">
               <div class="card-header">It is a Class if...</div>
               <p>It represents a <strong>set</strong> or category. It <em>could</em> have instances.</p>
               <p class="muted" style="font-size:18px;">e.g., "Film" (General Concept)</p>
            </div>
            <div class="card">
               <div class="card-header">It is an Object if...</div>
               <p>It is clearly a <strong>single member</strong> of the set. A specific entity.</p>
               <p class="muted" style="font-size:18px;">e.g., "Reel #SW19876" (Specific Item)</p>
            </div>
         </div>

         <div class="card flex-center" style="justify-content:center; background:#0f172a; border-color:var(--accent);">
             
             <div class="mono" style="color:var(--muted); margin-bottom:10px;">IS THIS A CLASS OR OBJECT?</div>
             
             <h3 id="quizText" style="font-size: 36px; text-align:center; height:80px; display:flex; align-items:center; justify-content:center;">
                Film
             </h3>

             <div class="btn-row" style="margin-top:20px; gap:20px;">
                 <button class="btn secondary" style="width:140px; justify-content:center;" onclick="quizGuess('class')">Class</button>
                 <button class="btn" style="width:140px; justify-content:center;" onclick="quizGuess('object')">Object</button>
             </div>

             <div id="quizFeedback" class="console-out" style="margin-top:30px; width:100%; text-align:center; min-height:80px;">
                Select an option to begin.
             </div>

         </div>
      </div>
    </section>

<section class="slide">
      <h2>1. Defining the Class</h2>
      <div class="grid-2">
        
        <div class="flex-col">
           <p>We start by building our blueprint: <span class="mono">CustomClass</span>.</p>
           
           <div class="card" style="border-left: 4px solid var(--accent);">
             <div class="card-header">1. Property</div>
             <p>Holds the state (Data).<br><code class="mono">public int Number</code></p>
           </div>
           
           <div class="card" style="border-left: 4px solid #3b82f6;">
             <div class="card-header">2. Method</div>
             <p>Defines behavior (Logic).<br><code class="mono">Multiply(int num)</code></p>
           </div>

           <div class="card" style="border-left: 4px solid #f59e0b;">
             <div class="card-header">3. Constructor</div>
             <p>Initializes the object.<br><code class="mono">CustomClass()</code></p>
           </div>
        </div>

        <div class="code-block" style="font-size: 19px;">
<span class="kw">public class</span> CustomClass
{    
    <span class="com">// 1. Property</span>
    <span class="kw">public int</span> Number { <span class="kw">get</span>; <span class="kw">set</span>; }

    <span class="com">// 2. Method</span>
    <span class="kw">public int</span> Multiply(<span class="kw">int</span> num)
    {
        <span class="kw">return</span> num * Number;
    }

    <span class="com">// 3. Instance Constructor</span>
    <span class="kw">public</span> CustomClass()
    { 
        Number = 0;       
    }
}</div>
      </div>
    </section>

    <section class="slide">
      <h2>2. Using the Class</h2>
      <p>Inside the <span class="mono">Main()</span> method, we bring the class to life.</p>
      
      <div class="grid-2" style="margin-top:20px;">
         <div class="code-block" style="font-size: 19px;">
<span class="kw">class</span> Program
{
  <span class="kw">static void</span> Main(<span class="kw">string</span>[] args)
  {
    <span class="com">// 1. Instantiate</span>
    <span class="kw">var</span> obj = <span class="kw">new</span> CustomClass();

    <span class="com">// 2. Set State</span>
    obj.Number = 27;

    <span class="com">// 3. Call Behavior</span>
    <span class="kw">int</span> result = obj.Multiply(4);

    Console.WriteLine(<span class="str">$"Result: {result}"</span>);
    Console.ReadLine();
  }
}</div>

         <div class="flex-col">
            <div class="card">
               <div class="card-header">Step 1: Instantiate</div>
               <p>The <span class="kw">new</span> keyword allocates memory on the Heap.</p>
            </div>
            <div class="card">
               <div class="card-header">Step 2: Access Members</div>
               <p>We use the dot operator (<span class="mono">.</span>) to access Public properties.</p>
            </div>
            <div class="card">
               <div class="card-header">Step 3: Output</div>
               <p>27 * 4 = <strong>108</strong></p>
               <div class="console-out" style="margin-top:10px;">Result: 108</div>
            </div>
         </div>
      </div>
    </section>

    <section class="slide">
      <h2>3. The Complete Program</h2>
      <div class="grid-2">
         
         <div>
            <h3>Visual Studio Setup</h3>
            <div class="card" style="margin-bottom:20px;">
               <div class="card-header">Step-by-Step</div>
               <ol style="margin-left:20px; line-height:1.8;">
                  <li>Open Visual Studio.</li>
                  <li>File &rarr; New Project.</li>
                  <li>Select <strong>Console Application</strong>.</li>
               </ol>
            </div>

            <h3>Structure</h3>
            <p>A C# file is organized in layers:</p>
            <ul class="muted" style="margin-top:10px;">
               <li><strong>Usings:</strong> Import libraries.</li>
               <li><strong>Namespace:</strong> Container for classes.</li>
               <li><strong>Classes:</strong> Your code.</li>
            </ul>
         </div>

         <div class="code-block" style="font-size: 14px; line-height:1.4;">
<span class="kw">using</span> System;

<span class="kw">namespace</span> ConsoleApplication2
{
    <span class="kw">public class</span> CustomClass
    {
        <span class="kw">public int</span> Number { <span class="kw">get</span>; <span class="kw">set</span>; }

        <span class="kw">public int</span> Multiply(<span class="kw">int</span> num)
        {
            <span class="kw">return</span> num * Number;
        }

        <span class="kw">public</span> CustomClass()
        {
            Number = 0;
        }
    }

    <span class="kw">class</span> Program
    {
        <span class="kw">static void</span> Main(<span class="kw">string</span>[] args)
        {
            CustomClass c = <span class="kw">new</span> CustomClass();
            c.Number = 27;
            Console.WriteLine(c.Multiply(4));
            Console.ReadLine();
        }
    }
}</div>
      </div>
    </section>
    <section class="slide">
      <h2>Class vs. Object</h2>
      <div class="grid-2">
        <div class="card">
          <h3>The Class (Blueprint)</h3>
          <p>A template definition. It defines the structure but takes no memory (conceptually).</p>
          <div class="code-block">
<span class="kw">public class</span> Car {
  <span class="kw">public string</span> Color;
}</div>
        </div>
        <div class="card">
          <h3>The Object (Instance)</h3>
          <p>A concrete realization in memory created from the class.</p>
          <div class="code-block">
<span class="kw">var</span> c1 = <span class="kw">new</span> Car();
c1.Color = <span class="str">"Red"</span>;</div>
        </div>
      </div>
    </section>

    <section class="slide">
      <h2>Anatomy of a Class</h2>
      <div class="grid-2">
        <div class="code-block">
<span class="kw">public class</span> Student
{
    <span class="com">// 1. Field (Data)</span>
    <span class="kw">private string</span> _name;

    <span class="com">// 2. Property (Gatekeeper)</span>
    <span class="kw">public int</span> ID { <span class="kw">get</span>; <span class="kw">set</span>; }

    <span class="com">// 3. Constructor (Init)</span>
    <span class="kw">public</span> Student() { ... }

    <span class="com">// 4. Method (Behavior)</span>
    <span class="kw">public void</span> Study() { ... }
}</div>
        <div class="flex-col">
           <div class="card">
             <h3>Members</h3>
             <p>Classes are composed of members. The most common are Fields (state) and Methods (logic).</p>
           </div>
           <div class="card">
             <h3>Terminology</h3>
             <p><strong>Instantiate:</strong> To create an object.</p>
             <p><strong>Reference:</strong> The variable pointing to the object.</p>
           </div>
        </div>
      </div>
    </section>

    <section class="slide">
      <h2>Constructors: The Builders</h2>
      <p>A constructor tells the program <strong>how to create</strong> a new instance of an object.</p>
      
      <div class="grid-2" style="margin-top:30px;">
         
         <div class="card" style="border-top: 5px solid var(--accent);">
            <h3>1. Blank (Default)</h3>
            <p>Creates the object but leaves members with default values (0, null, false).</p>
            <div class="code-block" style="margin-top:15px;">
<span class="kw">public</span> Student() 
{
    <span class="com">// Empty or default setup</span>
}

<span class="com">// Usage:</span>
<span class="kw">var</span> s = <span class="kw">new</span> Student();</div>
         </div>

         <div class="card" style="border-top: 5px solid #3b82f6;">
            <h3>2. Regular (Parameterized)</h3>
            <p>Forces the user to initialize specific variables immediately.</p>
            <div class="code-block" style="margin-top:15px;">
<span class="kw">public</span> Student(<span class="kw">string</span> name) 
{
    <span class="kw">this</span>.Name = name;
}

<span class="com">// Usage:</span>
<span class="kw">var</span> s = <span class="kw">new</span> Student(<span class="str">"Ali"</span>);</div>
         </div>

      </div>
    </section>

    <section class="slide">
      <h2>Destructors: The Cleanup Crew</h2>
      <div class="grid-2">
         
         <div>
            <h3>The Opposite of Constructors</h3>
            <p>Destructors describe how to <strong>destroy</strong> an object instance and release resources.</p>
            
            <div class="card" style="margin-top:30px; background: rgba(239,68,68,0.1); border-color: rgba(239,68,68,0.3);">
               <div class="card-header" style="color:#fca5a5;">Important Note</div>
               <p>In C#, you rarely call these manually. The <strong>Garbage Collector</strong> calls them implicitly when the object is no longer needed.</p>
            </div>
         </div>

         <div class="flex-col">
            <div class="code-block">
<span class="kw">class</span> Car 
{
    <span class="com">// The Tilde (~) marks a Destructor</span>
    ~Car() 
    {
        <span class="com">// Cleanup code here...</span>
        Console.Write(<span class="str">"Car crushed."</span>);
    }
}</div>
            <div class="card">
               <h3>Key Characteristics</h3>
               <ul>
                  <li><strong>Symbol:</strong> Starts with a Tilde (<span class="mono">~</span>).</li>
                  <li><strong>Name:</strong> Must match the Class name.</li>
                  <li><strong>Return Type:</strong> None (Void).</li>
                  <li><strong>Parameters:</strong> None (Cannot take arguments).</li>
               </ul>
            </div>
         </div>

      </div>
    </section>
    <section class="slide">
      <h2>The <span class="mono">new</span> Keyword</h2>
      <p>This is the detonator. It triggers memory allocation.</p>
      <div class="code-block" style="font-size:24px;">
Student s = <span class="kw">new</span> Student();
      </div>
      <div class="grid-3" style="margin-top:30px;">
        <div class="card">
           <div class="card-header">Step 1</div>
           <p>Calculate size of <code>Student</code>.</p>
        </div>
        <div class="card">
           <div class="card-header">Step 2</div>
           <p>Request memory from the <strong>Heap</strong>.</p>
        </div>
        <div class="card">
           <div class="card-header">Step 3</div>
           <p>Return address (Reference) to stack variable <code>s</code>.</p>
        </div>
      </div>
    </section>

    <section class="slide">
      <h2>Memory: Stack vs. Heap</h2>
      <div class="grid-2">
        <div class="card">
          <h3>The Stack</h3>
          <ul>
             <li>High speed, small size.</li>
             <li>Stores <strong>Value Types</strong> (`int`, `bool`).</li>
             <li>Stores <strong>Variables/References</strong>.</li>
             <li>Self-cleaning (scope based).</li>
          </ul>
        </div>
        <div class="card">
          <h3>The Heap</h3>
          <ul>
             <li>Slower, massive size.</li>
             <li>Stores <strong>Objects</strong> (Reference Types).</li>
             <li>Managed by the <strong>Garbage Collector</strong>.</li>
             <li>Unstructured (Messy).</li>
          </ul>
        </div>
      </div>
    </section>
<section class="slide">
      <h2>Deep Dive: Memory Allocation</h2>
      <div class="grid-2">
        
        <div class="flex-col">
           <div class="card" style="border-left:4px solid var(--accent);">
             <div class="card-header">Code Execution</div>
             <div class="code-block" style="font-size:18px; padding:0; background:none; border:none;">
<div id="line0" style="padding:4px 8px; border-radius:4px;">int age = 20;</div>
<div id="line1" style="padding:4px 8px; border-radius:4px;">Student s1 = new Student();</div>
<div id="line2" style="padding:4px 8px; border-radius:4px;">s1.Name = "Ali";</div>
<div id="line3" style="padding:4px 8px; border-radius:4px;">Student s2 = s1;</div>
             </div>
           </div>
           
           <div class="card">
              <div class="card-header">Control Panel</div>
              <p id="mem-instruction" class="muted" style="font-size:16px;">Click Next to begin execution.</p>
              <div class="btn-row">
                 <button class="btn" onclick="simMemNext()">‚ñ∂ Next Step</button>
                 <button class="btn secondary" onclick="simMemReset()">Reset</button>
              </div>
           </div>
        </div>

        <div class="grid-2" style="gap:10px;">
           <div class="card" style="background:#0f1a2e; border:none; color:#fff; padding:15px;">
              <div class="card-header" style="color:#94a3b8; border-bottom:1px solid #334155; margin-bottom:10px;">Stack (Fast/Local)</div>
              <div id="stack-container" class="mem-stack" style="min-height:300px; position:relative;"></div>
           </div>
           
           <div class="card" style="background:#0f1a2e; border:none; color:#fff; padding:15px;">
              <div class="card-header" style="color:#94a3b8; border-bottom:1px solid #334155; margin-bottom:10px;">Heap (Global/Messy)</div>
              <div id="heap-container" class="mem-heap" style="min-height:300px; position:relative;"></div>
           </div>
        </div>

      </div>
    </section>
<section class="slide">
      <h2>Value vs. Reference Types</h2>
      <div class="grid-2">
        
        <div class="card" style="border-top: 5px solid var(--accent);">
            <h3>1. Value Types (The Copy)</h3>
            <p class="muted">Examples: <span class="mono">int</span>, <span class="mono">bool</span>, <span class="mono">double</span>, <span class="mono">struct</span></p>
            
            <p><strong>The "Photocopy" Analogy:</strong><br>
            When you assign a Value Type, you get a completely independent copy. Changing the copy does <em>not</em> affect the original.</p>
            
            <ul style="font-size: 18px; margin: 15px 0;">
                <li>Stored directly on the <strong>Stack</strong>.</li>
                <li>The variable contains the <strong>actual data</strong>.</li>
            </ul>

            <div class="code-block" style="font-size:18px;">
int a = 10;
int b = a;  <span class="com">// Make a photocopy</span>

b = 99;     <span class="com">// Change the copy</span>

<span class="com">// Result: 'a' is still 10.</span></div>
        </div>

        <div class="card" style="border-top: 5px solid #3b82f6;">
            <h3>2. Reference Types (The Link)</h3>
            <p class="muted">Examples: <span class="mono">class</span>, <span class="mono">string</span>, <span class="mono">array</span></p>

            <p><strong>The "Web Link" Analogy:</strong><br>
            The variable is just an address (URL). Assigning it just shares the link. Both variables point to the <strong>same object</strong>.</p>

            <ul style="font-size: 18px; margin: 15px 0;">
                <li>Stored on the <strong>Heap</strong>.</li>
                <li>The variable contains a <strong>pointer</strong>.</li>
            </ul>

            <div class="code-block" style="font-size:18px;">
Car x = <span class="kw">new</span> Car();
Car y = x;  <span class="com">// Copy the link</span>

y.Color = <span class="str">"Red"</span>; <span class="com">// Change the object</span>

<span class="com">// Result: x.Color is "Red" too!</span></div>
        </div>

      </div>
    </section>

    <section class="slide">
      <h2>Reference Experiment</h2>
      <div class="sim-box">
         <span class="sim-title">Object Sharing Simulator</span>
         <div class="grid-2">
            <div style="text-align:center;">
               <div style="margin-bottom:10px;">Variable A</div>
               <input id="refInputA" class="sim-input" style="width:100px;" value="Generic">
               <button class="btn" onclick="updateRefObj('A')" style="margin-top:10px;">Update A.Name</button>
            </div>
            <div style="text-align:center;">
               <div style="margin-bottom:10px;">Variable B ( = A)</div>
               <div id="refDisplayB" style="padding:10px; background:#1e293b; border-radius:6px; margin-top:5px; border:1px solid #333;">Generic</div>
               <p class="muted" style="font-size:14px; margin-top:5px; color:#94a3b8;">B points to same object</p>
            </div>
         </div>
      </div>
    </section>

    <section class="slide">
      <h2>Constructors</h2>
      <p>A method named after the Class. Runs <strong>once</strong> at creation.</p>
      <div class="code-block">
<span class="kw">public class</span> Person {
   <span class="kw">public string</span> Name;

   <span class="com">// Default Constructor</span>
   <span class="kw">public</span> Person() {
      Name = <span class="str">"Unknown"</span>;
   }
}</div>
      <p class="muted">If you write NO constructor, C# generates an empty one implicitly.</p>
    </section>

    <section class="slide">
      <h2>Parameterized Constructors</h2>
      <p>Force the user to provide data upon creation.</p>
      <div class="code-block">
<span class="kw">public</span> Person(<span class="kw">string</span> name, <span class="kw">int</span> age) {
    Name = name;
    Age = age;
}

<span class="com">// Usage:</span>
<span class="kw">var</span> p = <span class="kw">new</span> Person(<span class="str">"Alice"</span>, 25);</div>
    </section>

    <section class="slide">
      <h2>Constructor Lab</h2>
      <div class="grid-2">
         <div class="sim-box" style="margin-top:0;">
             <span class="sim-title">Builder</span>
             <div class="flex-col">
                 <select id="ctorType" class="sim-input">
                     <option value="default">Default Constructor</option>
                     <option value="param">Parameterized (Name, Age)</option>
                 </select>
                 <input id="ctorName" class="sim-input" placeholder="Name (e.g., Bob)">
                 <input id="ctorAge" class="sim-input" type="number" placeholder="Age">
                 <button class="btn" onclick="runConstructor()">new Person(...)</button>
             </div>
         </div>
         <div class="sim-box" style="margin-top:0;">
             <span class="sim-title">Output</span>
             <div id="ctorOut" class="console-out">Object not created.</div>
         </div>
      </div>
    </section>

    <section class="slide">
      <h2>The <span class="mono">this</span> Keyword</h2>
      <p>Refers to the <strong>current instance</strong>. Used to resolve naming conflicts.</p>
      <div class="grid-2">
         <div class="code-block">
<span class="kw">public class</span> Hero {
  <span class="kw">string</span> name;

  <span class="kw">public</span> Hero(<span class="kw">string</span> name) {
     <span class="com">// Ambiguous!</span>
     name = name; 
     
     <span class="com">// Correct:</span>
     <span class="kw">this</span>.name = name;
  }
}</div>
         <div class="card">
            <h3>Other Uses</h3>
            <ul>
               <li>Pass current object to another method: <code>Save(this);</code></li>
               <li>Call another constructor: <code>: this()</code></li>
            </ul>
         </div>
      </div>
    </section>

    <section class="slide">
      <h2>Object Initializers</h2>
      <p>Syntactic sugar to set properties immediately. Cleaner than multiple lines.</p>
      <div class="grid-2">
         <div class="card">
            <div class="card-header">Old Way</div>
            <div class="code-block" style="font-size:14px; background:none; border:none; padding:0;">
var s = new Student();
s.Name = "Ali";
s.Age = 22;</div>
         </div>
         <div class="card">
            <div class="card-header">Initializer</div>
            <div class="code-block" style="font-size:14px; background:none; border:none; padding:0;">
var s = new Student {
   Name = "Ali",
   Age = 22
};</div>
         </div>
      </div>
    </section>
<section class="slide">
      <h2>Garbage Collection (GC)</h2>
      <p>C# is a <strong>managed language</strong>. It has a built-in janitor that cleans memory for you.</p>
      
      <div class="grid-3" style="margin-top:40px;">
         
         <div class="card" style="border-top:5px solid var(--accent);">
            <h3>1. Allocation</h3>
            <div style="font-size:40px; margin:10px 0;">üéàüßµ</div>
            <p>You create an object and hold onto it via a <strong>Reference</strong> (variable).</p>
            <p class="muted" style="font-size:16px;">"I am holding the balloon."</p>
         </div>

         <div class="card" style="border-top:5px solid var(--accent-danger);">
            <h3>2. Abandonment</h3>
            <div style="font-size:40px; margin:10px 0;">üéà‚úÇÔ∏è</div>
            <p>You set the variable to <span class="mono">null</span> or it goes out of scope. The connection is cut.</p>
            <p class="muted" style="font-size:16px;">"The balloon is drifting away."</p>
         </div>

         <div class="card" style="border-top:5px solid #3b82f6;">
            <h3>3. Collection</h3>
            <div style="font-size:40px; margin:10px 0;">üßπ‚ú®</div>
            <p>The <strong>GC</strong> notices the "orphan" object and deletes it to free up RAM.</p>
            <p class="muted" style="font-size:16px;">"The janitor pops the stray balloon."</p>
         </div>

      </div>
    </section>

    <section class="slide">
      <h2>GC Visualizer</h2>
      <div class="grid-2">
         
         <div class="flex-col">
            <div class="card">
               <div class="card-header">Control Panel</div>
               <p id="gc-guide" style="margin-bottom:20px;">Step 1: Create an object in the Heap.</p>
               
               <div class="flex-col">
                  <button id="btn-gc-1" class="btn" onclick="runGcSim(1)">1. new Student()</button>
                  <button id="btn-gc-2" class="btn secondary" onclick="runGcSim(2)" disabled>2. s = null</button>
                  <button id="btn-gc-3" class="btn danger" onclick="runGcSim(3)" disabled>3. GC.Collect()</button>
               </div>
            </div>
            <div id="gc-log" class="console-out">System Waiting...</div>
         </div>

         <div class="card" style="background:#1e293b; border-color:#334155; position:relative; overflow:hidden;">
             <div class="card-header" style="color:#94a3b8; border-bottom:1px solid rgba(255,255,255,0.1);">Managed Heap</div>
             
             <div id="gc-stage" style="height:300px; display:flex; align-items:center; justify-content:center;">
                 <span class="muted" style="opacity:0.5;">(Empty Memory)</span>
             </div>
         </div>

      </div>
    </section>

    <section class="slide">
      <h2>The 4 Pillars of OOP</h2>
      <div class="grid-2" style="grid-template-rows: 1fr 1fr; gap:20px;">
        <div class="card" style="border-left: 4px solid var(--accent);">
          <h3>1. Encapsulation</h3>
          <p>Bundling data/methods and restricting access. (Security)</p>
        </div>
        <div class="card" style="border-left: 4px solid var(--accent-blue);">
          <h3>2. Abstraction</h3>
          <p>Hiding complexity. Showing only <em>what</em>, not <em>how</em>.</p>
        </div>
        <div class="card" style="border-left: 4px solid #f59e0b;">
          <h3>3. Inheritance</h3>
          <p>Creating new classes from existing ones. (Reuse)</p>
        </div>
        <div class="card" style="border-left: 4px solid var(--accent-danger);">
          <h3>4. Polymorphism</h3>
          <p>One interface, many forms. Dynamic behavior.</p>
        </div>
      </div>
    </section>
 <section class="slide">
      <h2>Encapsulation: The Shield</h2>
      <p>Encapsulation hides the internal state (`private`) and requires users to use specific methods (`public`) to interact with it.</p>

      <div class="grid-2" style="margin-top:20px; align-items:center;">
        
        <div style="position:relative; height:400px; display:flex; justify-content:center; align-items:center;">
            
            <div id="encap-shell" style="
                width: 300px; height: 300px; 
                border: 4px solid #4ade80; border-radius: 50%; 
                position: relative; 
                box-shadow: 0 0 30px rgba(74, 222, 128, 0.2);
                transition: all 0.3s ease;">
                
                <div style="position:absolute; top:-40px; width:100%; text-align:center; color:#4ade80; font-family:var(--font-mono); font-size:14px;">
                    PUBLIC INTERFACE (Class Definition)
                </div>

                <div style="position:absolute; top:50%; right:-12px; transform:translateY(-50%); width:24px; height:60px; background:#0b1220; border:2px solid #4ade80; display:flex; align-items:center; justify-content:center;">
                    <div style="width:100%; height:2px; background:#4ade80;"></div>
                </div>
            </div>

            <div id="encap-core" style="
                position: absolute; width: 120px; height: 120px; 
                background: radial-gradient(circle, var(--accent-danger) 0%, #7f1d1d 90%);
                border: 2px solid #ef4444; border-radius: 50%; 
                display: flex; align-items: center; justify-content: center;
                box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
                z-index: 1;">
                <div style="text-align:center; color:#fff;">
                    <div style="font-size:24px;">üîí</div>
                    <div style="font-size:12px; font-family:var(--font-mono); margin-top:5px;">_data</div>
                </div>
            </div>

            <div id="data-packet" style="
                position: absolute; width: 15px; height: 15px; background: #fff; 
                border-radius: 50%; opacity: 0; pointer-events: none; z-index: 10;">
            </div>

        </div>

        <div class="flex-col">
            <div class="card">
                <h3>Try to Access Data</h3>
                <p class="muted">You are the <span class="mono">Main()</span> program. Try to change the data inside the object.</p>
                
                <div class="flex-col" style="margin-top:20px;">
                    
                    <div style="display:flex; align-items:center; gap:10px;">
                        <button class="btn danger" onclick="tryAccess('direct')" style="flex:1;">
                            obj._data = 50;
                        </button>
                        <span class="muted" style="font-size:14px;">(Direct Access)</span>
                    </div>

                    <div style="display:flex; align-items:center; gap:10px;">
                        <button class="btn" onclick="tryAccess('method')" style="flex:1;">
                            obj.SetData(50);
                        </button>
                        <span class="muted" style="font-size:14px;">(Public Method)</span>
                    </div>
                </div>
            </div>

            <div id="encap-log" class="console-out" style="height:100px; display:flex; align-items:center; justify-content:center; text-align:center; border-color:var(--soft);">
                System Ready. Waiting for input...
            </div>
        </div>

      </div>

      <script>
        function tryAccess(type) {
            const packet = document.getElementById('data-packet');
            const shell = document.getElementById('encap-shell');
            const core = document.getElementById('encap-core');
            const log = document.getElementById('encap-log');

            // Reset Animation
            packet.style.transition = 'none';
            packet.style.opacity = '1';
            
            if (type === 'direct') {
                // VISUAL: Direct Attack
                // Start position (Outside left)
                packet.style.top = '50%';
                packet.style.left = '0%';
                packet.style.background = '#ef4444'; // Red packet

                setTimeout(() => {
                    packet.style.transition = 'all 0.4s cubic-bezier(0.25, 1, 0.5, 1)';
                    // Move to the shell wall
                    packet.style.left = '25%'; // Roughly where the shell border is visually
                }, 10);

                setTimeout(() => {
                    // BOUNCE OFF EFFECT
                    packet.style.left = '10%'; 
                    packet.style.opacity = '0';
                    
                    // Shake the shell
                    shell.style.borderColor = '#ef4444';
                    shell.style.transform = 'translateX(-5px)';
                    setTimeout(() => {
                        shell.style.transform = 'translateX(5px)';
                        setTimeout(() => shell.style.transform = 'translateX(0)', 100);
                    }, 100);

                    // Reset Color after delay
                    setTimeout(() => shell.style.borderColor = '#4ade80', 600);
                    
                    log.innerHTML = `<span style="color:#ef4444">‚õî ACCESS DENIED</span><br>The field is private. The compiler prevents this.`;
                }, 400);
            } 
            
            else if (type === 'method') {
                // VISUAL: Valid Entry via Method
                // Start position (Outside Right - where the "gate" is)
                packet.style.top = '50%';
                packet.style.left = '100%';
                packet.style.background = '#4ade80'; // Green packet

                setTimeout(() => {
                    packet.style.transition = 'all 0.6s ease-in-out';
                    // Move through the gate to the center
                    packet.style.left = '50%';
                }, 10);

                setTimeout(() => {
                    // Success Effect on Core
                    packet.style.opacity = '0';
                    core.style.transform = 'scale(1.2)';
                    core.style.boxShadow = '0 0 50px #4ade80';
                    core.style.borderColor = '#4ade80';

                    setTimeout(() => {
                        core.style.transform = 'scale(1)';
                        core.style.boxShadow = '0 0 20px rgba(239, 68, 68, 0.4)';
                        core.style.borderColor = '#ef4444';
                    }, 500);

                    log.innerHTML = `<span style="color:#4ade80">‚úÖ SUCCESS</span><br>Data passed through the public gatekeeper.`;
                }, 600);
            }
        }
      </script>
    </section>

    <section class="slide">
      <h2>Access Modifiers: Security Clearance</h2>
      <p>Who is allowed to see your code?</p>
      
      <div class="grid-2" style="gap:20px; margin-top:20px;">
         
         <div class="card" style="border-left: 5px solid #22c55e;">
            <div class="card-header" style="color:#22c55e;">1. Public (The Tourist)</div>
            <p><strong>Accessible by:</strong> Everyone.</p>
            <p class="muted">Used for: Methods you want people to call.</p>
         </div>

         <div class="card" style="border-left: 5px solid #ef4444;">
            <div class="card-header" style="color:#ef4444;">2. Private (The Owner)</div>
            <p><strong>Accessible by:</strong> Only the Class itself.</p>
            <p class="muted">Used for: Variables (Fields) and internal logic.</p>
         </div>

         <div class="card" style="border-left: 5px solid #f59e0b;">
            <div class="card-header" style="color:#f59e0b;">3. Protected (The Family)</div>
            <p><strong>Accessible by:</strong> The Class + Children (Inheritance).</p>
            <p class="muted">Used for: Sharing logic with subclasses.</p>
         </div>

         <div class="card" style="border-left: 5px solid #94a3b8;">
            <div class="card-header" style="color:#94a3b8;">4. Internal (The Coworker)</div>
            <p><strong>Accessible by:</strong> The same Project (Assembly).</p>
            <p class="muted">Used for: Library helper classes.</p>
         </div>

      </div>
    </section>

    <section class="slide">
      <h2>The Problem vs. The Solution</h2>
      <div class="grid-2">
         
         <div class="card" style="border: 1px solid var(--accent-danger);">
            <h3 style="color:var(--accent-danger);">The Problem: Public Fields</h3>
            <p>No control. Invalid data can break the app.</p>
            <div class="code-block" style="font-size:16px;">
class Bank {
   <span class="kw">public int</span> Balance;
}

<span class="kw">var</span> b = <span class="kw">new</span> Bank();
b.Balance = -99999; 
<span class="com">// ‚ùå Crash! Negative money?</span></div>
         </div>

         <div class="card" style="border: 1px solid var(--accent);">
            <h3 style="color:var(--accent);">The Solution: Properties</h3>
            <p>Logic checks data <em>before</em> assigning it.</p>
            <div class="code-block" style="font-size:16px;">
class Bank {
   <span class="kw">private int</span> _bal;
   
   <span class="kw">public int</span> Balance {
      <span class="kw">get</span> { <span class="kw">return</span> _bal; }
      <span class="kw">set</span> {
         <span class="kw">if</span> (value >= 0) _bal = value;
      }
   }
}
<span class="com">// ‚úÖ Safe! Ignores negatives.</span></div>
         </div>

      </div>
    </section>

    <section class="slide">
      <h2>Modern Property Syntax</h2>
      <div class="grid-2">
         
         <div>
            <h3>1. Auto-Implemented</h3>
            <p class="muted">"I just need to store data, no special logic."</p>
            <div class="code-block">
<span class="kw">public string</span> Name { <span class="kw">get</span>; <span class="kw">set</span>; }

<span class="com">// Read-Only (Immutable)</span>
<span class="kw">public int</span> ID { <span class="kw">get</span>; <span class="kw">private set</span>; }</div>
         </div>

         <div>
            <h3>2. Computed Properties</h3>
            <p class="muted">"I calculate the value on the fly."</p>
            <div class="code-block">
<span class="kw">public int</span> BirthYear { <span class="kw">get</span>; <span class="kw">set</span>; }

<span class="kw">public int</span> Age 
{ 
   <span class="kw">get</span> { 
      <span class="kw">return</span> currentYear - BirthYear; 
   } 
}</div>
         </div>

      </div>
      <div class="card" style="margin-top:20px; background: rgba(59, 130, 246, 0.1);">
         <p><strong>Note:</strong> Computed properties do not store data. They are like a method disguised as a variable.</p>
      </div>
    </section>

    
    <section class="slide">
      <h2>Static Members</h2>
      <p><span class="mono">static</span> means "Shared". It belongs to the <strong>Class</strong>, not the object.</p>
      <div class="grid-2">
         <div class="code-block">
<span class="kw">class</span> Car {
   <span class="kw">public static int</span> Count = 0;
   
   <span class="kw">public</span> Car() { Count++; }
}

<span class="kw">new</span> Car(); 
<span class="kw">new</span> Car();
<span class="com">// Car.Count == 2</span></div>
         <div class="card">
            <h3>Memory View</h3>
            <p><strong>Instance Members:</strong> Copied for every object.</p>
            <p><strong>Static Members:</strong> Created once. All objects share it.</p>
         </div>
      </div>
    </section>

   <section class="slide">
      <h2>Static vs. Instance Memory</h2>
      <div class="grid-2" style="align-items: start;">
        
        <div class="flex-col">
            <div class="card" style="border-left:4px solid var(--accent);">
                <div class="card-header">Class Definition</div>
                <div class="code-block" id="static-code-block" style="font-size:16px; transition:all 0.3s;">
class Car 
{
    <span id="code-static-var" class="active-line" style="opacity:0.5">// Belongs to Class (Shared)</span>
    <span class="kw">public static int</span> Count = <span id="code-count-val" style="color:#4ade80">0</span>;

    <span style="opacity:0.5">// Belongs to Object (Unique)</span>
    <span class="kw">public string</span> Color;

    <span class="kw">public</span> Car() 
    {
        <span id="code-logic" style="padding:2px 5px; border-radius:4px;">Count++;</span>
    }
}</div>
            </div>
            
            <div class="card">
                <h3>Control Panel</h3>
                <p class="muted">Click to run the constructor:</p>
                <button class="btn" onclick="runStaticSim()" style="width:100%;">
                    <span style="font-size:18px;">+</span> new Car();
                </button>
                <div style="margin-top:15px; display:flex; justify-content:space-between; font-size:14px; color:#94a3b8;">
                    <span>Total Cars: <strong id="lbl-total" style="color:#fff;">0</strong></span>
                    <span style="cursor:pointer; text-decoration:underline;" onclick="resetStaticSim()">Reset</span>
                </div>
            </div>
        </div>

        <div style="position:relative; height:100%; min-height:500px; display:flex; flex-direction:column; gap:20px;">
            
            <div id="mem-static-zone" style="
                background: rgba(15, 23, 42, 0.8); 
                border: 2px dashed #4ade80; 
                border-radius: 12px; 
                padding: 15px; 
                text-align: center;
                transition: all 0.3s ease;">
                
                <div style="font-family:var(--font-mono); color:#4ade80; font-size:12px; text-transform:uppercase; letter-spacing:1px; margin-bottom:5px;">
                    Static Memory (High Frequency Heap)
                </div>
                
                <div style="display:flex; align-items:center; justify-content:center; gap:15px;">
                    <div style="font-size:32px;">‚òÅÔ∏è</div>
                    <div style="text-align:left;">
                        <div style="font-size:14px; color:#94a3b8;">Car.Count</div>
                        <div id="vis-static-count" style="font-size:32px; font-weight:bold; color:#fff; font-family:var(--font-mono);">0</div>
                    </div>
                </div>
            </div>

            <div style="flex:1; position:relative; border-left: 2px dashed rgba(255,255,255,0.1); margin-left:50%;">
                <div id="flow-arrow" style="position:absolute; bottom:0; left:-6px; opacity:0; font-size:20px; color:#4ade80;">‚¨Ü</div>
            </div>

            <div id="mem-heap-zone" style="
                background: rgba(15, 23, 42, 0.8); 
                border: 2px solid #334155; 
                border-radius: 12px; 
                padding: 15px; 
                min-height: 250px;
                display:flex; flex-wrap:wrap; align-content:flex-start; gap:10px;
                position:relative;">
                
                <div style="position:absolute; top:-12px; left:15px; background:#0b1220; padding:0 10px; color:#94a3b8; font-size:12px; font-family:var(--font-mono);">
                    Managed Heap (Instances)
                </div>

                <div id="empty-heap-msg" style="width:100%; height:100%; display:flex; align-items:center; justify-content:center; color:#475569;">
                    (Empty)
                </div>

            </div>

        </div>
      </div>

      <script>
        let sCount = 0;
        const colors = ['#ef4444', '#3b82f6', '#eab308', '#ec4899', '#8b5cf6', '#14b8a6'];

        function runStaticSim() {
            const heapZone = document.getElementById('mem-heap-zone');
            const staticZone = document.getElementById('mem-static-zone');
            const countDisplay = document.getElementById('vis-static-count');
            const codeLogic = document.getElementById('code-logic');
            const arrow = document.getElementById('flow-arrow');
            
            // 1. Highlight Code
            codeLogic.style.background = "rgba(74, 222, 128, 0.3)";
            codeLogic.style.color = "#fff";
            
            setTimeout(() => {
                codeLogic.style.background = "none";
                codeLogic.style.color = "inherit";
            }, 500);

            // 2. Logic
            sCount++;
            
            // 3. Remove "Empty" msg
            const emptyMsg = document.getElementById('empty-heap-msg');
            if(emptyMsg) emptyMsg.style.display = 'none';

            // 4. Create Instance (Heap)
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            const car = document.createElement('div');
            car.className = 'heap-obj'; // Reusing your existing style
            car.style.position = 'relative'; // Override absolute
            car.style.width = '100px';
            car.style.background = '#1e293b';
            car.style.borderColor = randomColor;
            car.style.animation = 'popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
            car.innerHTML = `
                <div style="font-size:20px; margin-bottom:5px;">üöó</div>
                <div style="font-size:10px; color:${randomColor};">Color: ${getColorName(randomColor)}</div>
            `;
            heapZone.appendChild(car);

            // 5. Animate "Connection" to Static
            arrow.style.opacity = '1';
            arrow.style.transition = 'bottom 0.5s ease-out';
            arrow.style.bottom = '100%'; // Fly up
            
            setTimeout(() => {
                // 6. Update Static Display
                countDisplay.innerText = sCount;
                document.getElementById('lbl-total').innerText = sCount;
                document.getElementById('code-count-val').innerText = sCount;
                
                // Pulse effect on Static Zone
                staticZone.style.boxShadow = "0 0 25px rgba(74, 222, 128, 0.4)";
                staticZone.style.transform = "scale(1.05)";
                setTimeout(() => {
                    staticZone.style.boxShadow = "none";
                    staticZone.style.transform = "scale(1)";
                }, 200);

                // Reset Arrow
                arrow.style.transition = 'none';
                arrow.style.opacity = '0';
                arrow.style.bottom = '0';
            }, 400);
        }

        function resetStaticSim() {
            sCount = 0;
            document.getElementById('mem-heap-zone').innerHTML = `
                <div id="empty-heap-msg" style="width:100%; height:100%; display:flex; align-items:center; justify-content:center; color:#475569;">
                    (Empty)
                </div>
                <div style="position:absolute; top:-12px; left:15px; background:#0b1220; padding:0 10px; color:#94a3b8; font-size:12px; font-family:var(--font-mono);">
                    Managed Heap (Instances)
                </div>`;
            document.getElementById('vis-static-count').innerText = "0";
            document.getElementById('lbl-total').innerText = "0";
            document.getElementById('code-count-val').innerText = "0";
        }

        function getColorName(hex) {
            if(hex === '#ef4444') return 'Red';
            if(hex === '#3b82f6') return 'Blue';
            if(hex === '#eab308') return 'Yellow';
            if(hex === '#ec4899') return 'Pink';
            if(hex === '#8b5cf6') return 'Purple';
            return 'Teal';
        }
      </script>
    </section>
<section class="slide">
  <h2>Inheritance: The "Is-A" Relationship</h2>
  <div class="grid-2">
    
    <div class="flex-col">
       <div class="card" style="border-left: 5px solid var(--accent);">
           <h3>1. What is it?</h3>
           <p>Inheritance is a mechanism where a new class (<strong>Derived</strong>) acquires the members (properties & methods) of an existing class (<strong>Base</strong>).</p>
           <p class="muted">Think of it like genetics: You inherit traits (eye color) from your parents but also develop your own (skills).</p>
       </div>

       <div class="card" style="border-left: 5px solid #3b82f6;">
           <h3>2. Key Rules in C#</h3>
           <ul style="margin-left: 20px; line-height: 1.6;">
               <li><strong>Single Inheritance:</strong> A class can have only <u>one</u> direct parent.</li>
               <li><strong>Transitive:</strong> If B inherits A, and C inherits B, then C has everything from A too.</li>
               <li><strong>Syntax:</strong> <code class="mono" style="color:#3b82f6">class Child : Parent</code></li>
           </ul>
       </div>
    </div>

    <div class="card flex-center" style="background: #f8fafc; border: 2px dashed #cbd5e1;">
        <h3 style="color:#64748b; margin-bottom:30px;">Visualizing the Chain</h3>
        
        <div style="position:relative; display:flex; flex-direction:column; align-items:center; gap:5px;">
            
            <div style="background:#0f172a; color:#fff; padding:15px 30px; border-radius:12px; width:200px; text-align:center; box-shadow:0 10px 20px rgba(0,0,0,0.2);">
                <div style="font-size:12px; color:#94a3b8; text-transform:uppercase;">Base Class</div>
                <div style="font-size:20px; font-weight:bold;">Vehicle</div>
                <div style="font-size:12px; color:#4ade80; margin-top:5px;">+ Speed<br>+ Go()</div>
            </div>

            <div style="height:30px; width:2px; background:#cbd5e1;"></div>
            <div style="font-size:20px; color:#cbd5e1;">‚¨á</div>

            <div style="background:#fff; border:2px solid #3b82f6; color:#0f172a; padding:15px 30px; border-radius:12px; width:200px; text-align:center; box-shadow:0 10px 20px rgba(59, 130, 246, 0.15);">
                <div style="font-size:12px; color:#3b82f6; text-transform:uppercase;">Derived Class</div>
                <div style="font-size:20px; font-weight:bold;">Car</div>
                <div style="font-size:12px; color:#64748b; margin-top:5px;">
                    <span style="color:#4ade80">(Inherits Vehicle)</span><br>
                    + TrunkSize<br>+ PlayRadio()
                </div>
            </div>

        </div>
    </div>

  </div>
</section>


    <section class="slide">
      <h2>Base vs. Derived</h2>
      <div class="grid-2">
         <div class="card">
            <h3>Base Class (Parent)</h3>
            <p>Generic, shared logic.</p>
            <p>e.g., <code>Account</code> (id, balance).</p>
         </div>
         <div class="card">
            <h3>Derived Class (Child)</h3>
            <p>Specialized logic.</p>
            <p>e.g., <code>SavingsAccount</code> (interest rate).</p>
         </div>
      </div>
      <p class="muted" style="margin-top:20px;">C# supports Single Class Inheritance (only one dad).</p>
    </section>

    <section class="slide">
      <h2>The <span class="mono">protected</span> Modifier</h2>
      <p>The middle ground between Private and Public.</p>
      <div class="grid-2">
         <div class="code-block">
<span class="kw">class</span> Parent {
   <span class="kw">protected int</span> secret = 42;
}

<span class="kw">class</span> Child : Parent {
   <span class="kw">void</span> Test() {
      Console.Write(secret); <span class="com">// OK</span>
   }
}</div>
         <div class="card">
            <h3>Rules</h3>
            <ul>
               <li><strong>Private:</strong> Child cannot see it.</li>
               <li><strong>Protected:</strong> Child CAN see it.</li>
               <li><strong>Public:</strong> Everyone can see it.</li>
            </ul>
         </div>
      </div>
    </section>

    <section class="slide">
      <h2>The <span class="mono">base</span> Keyword</h2>
      <p>Accessing members of the parent class.</p>
      <div class="code-block">
<span class="kw">public override void</span> Eat() 
{
    <span class="kw">base</span>.Eat(); <span class="com">// Run parent logic first</span>
    Console.Write(<span class="str">"Dog eating..."</span>);
}</div>
    </section>

    <section class="slide">
      <h2>Constructors & Inheritance</h2>
      <p>Constructors are NOT inherited. You must chain them.</p>
      <div class="code-block">
<span class="kw">public</span> Person(<span class="kw">string</span> name) { ... }

<span class="kw">public</span> Student(<span class="kw">string</span> name) : <span class="kw">base</span>(name) 
{
   <span class="com">// Pass 'name' up to Person</span>
}</div>
    </section>
<section class="slide">
  <h2>1. Abstract Classes & The Modifier</h2>
  <div class="grid-2">
    
    <div class="flex-col">
       
       <div class="card" style="border-left: 4px solid #facc15;">
           <h3>The <span class="mono" style="color:#facc15">abstract</span> Modifier</h3>
           <p>In C#, this modifier indicates that the thing being modified has a <strong>missing or incomplete implementation</strong>.</p>
           <p class="muted" style="font-size:16px;">(e.g., A method defined without a body).</p>
       </div>

       <div class="card" style="border-left: 4px solid var(--accent-danger);">
           <h3>Key Rules</h3>
           <ul style="margin-left:20px; line-height:1.6;">
               <li><strong>Base Class Only:</strong> Intended <em>only</em> to be a parent of other classes.</li>
               <li><strong>Mandatory Implementation:</strong> Abstract members <em>must</em> be implemented by non-abstract derived classes.</li>
               <li><strong>No Instantiation:</strong> You <span style="color:#ef4444; font-weight:bold;">cannot</span> create an instance of an abstract class.</li>
           </ul>
       </div>

    </div>

    <div class="card" style="background:#0f172a; border:1px solid #334155;">
        <h3 style="color:#94a3b8; margin-bottom:15px; text-align:center;">The Blueprint Comparison</h3>
        
        <div id="bp-abstract" style="opacity:0.6; border:2px dashed #64748b; padding:15px; margin-bottom:15px; border-radius:8px; position:relative;">
            <div style="position:absolute; top:-10px; right:10px; background:#64748b; color:#fff; font-size:10px; padding:2px 6px; border-radius:4px;">ABSTRACT</div>
            <div class="code-block" style="font-size:13px; background:none; border:none; padding:0;">
<span class="kw">abstract class</span> Shape {
   <span class="kw">public abstract void</span> Draw(); 
   <span class="com">// ‚ö† MISSING IMPLEMENTATION</span>
}</div>
            <button class="btn danger" onclick="buildAbs()" style="width:100%; margin-top:10px; font-size:14px;">
                Try: new Shape()
            </button>
        </div>

        <div id="bp-concrete" style="border:2px solid #4ade80; padding:15px; border-radius:8px; position:relative;">
            <div style="position:absolute; top:-10px; right:10px; background:#4ade80; color:#000; font-size:10px; padding:2px 6px; border-radius:4px;">CONCRETE</div>
            <div class="code-block" style="font-size:13px; background:none; border:none; padding:0;">
<span class="kw">class</span> Circle : Shape {
   <span class="kw">public override void</span> Draw() {
      <span class="com">// ‚úÖ IMPLEMENTED HERE</span>
      Print(<span class="str">"O"</span>); 
   }
}</div>
            <button class="btn" onclick="buildConc()" style="width:100%; margin-top:10px; font-size:14px;">
                Try: new Circle()
            </button>
        </div>

        <div id="abs-feedback" class="console-out" style="margin-top:15px; text-align:center; min-height:50px; font-size:14px;">
            System Ready.
        </div>

    </div>

  </div>

  <script>
    function buildAbs() {
        const out = document.getElementById('abs-feedback');
        out.innerHTML = `<span style="color:#ef4444; font-weight:bold;">‚ùå COMPILER ERROR CS0144</span><br>Cannot create an instance of the abstract class 'Shape'.`;
        out.style.borderColor = '#ef4444';
        
        // Visual shake effect
        document.getElementById('bp-abstract').style.transform = "translateX(-5px)";
        setTimeout(() => document.getElementById('bp-abstract').style.transform = "translateX(0)", 100);
    }

    function buildConc() {
        const out = document.getElementById('abs-feedback');
        out.innerHTML = `<span style="color:#4ade80; font-weight:bold;">‚úÖ SUCCESS</span><br>Object created. The missing parts were filled by the child class.`;
        out.style.borderColor = '#4ade80';
    }
  </script>
</section>
<section class="slide">
  <h2> Abstract Methods</h2>
  <p>An abstract method has <strong>no body</strong> (logic). The child class <strong>MUST</strong> override and implement it.</p>

  <div class="grid-2" style="margin-top:20px;">
    
    <div class="card" style="opacity:0.8; border:1px dashed #64748b;">
        <h3 style="color:#94a3b8;">Parent: Shape</h3>
        <p class="muted">"I know every shape has an Area, but I don't know the formula yet."</p>
        
        <div class="code-block" style="font-size:16px;">
<span class="kw">public abstract class</span> Shape 
{
    <span class="com">// No body (curly braces)!</span>
    <span class="kw">public abstract double</span> GetArea(); 
}</div>
        <div style="text-align:center; font-size:40px; margin-top:10px;">‚ùì</div>
    </div>

    <div>
        <p class="muted" style="text-align:center;">Select a specific shape to implement the logic:</p>
        
        <div style="display:flex; gap:10px; justify-content:center; margin-bottom:20px;">
            <button class="btn secondary" onclick="showImpl('rect')">Rectangle</button>
            <button class="btn secondary" onclick="showImpl('circle')">Circle</button>
        </div>

        <div id="impl-card" class="card" style="display:none; border-left:4px solid #4ade80; animation: fadeIn 0.5s;">
            <h3 id="impl-title" style="color:#4ade80;">Child</h3>
            <div id="impl-code" class="code-block" style="font-size:16px;"></div>
        </div>
    </div>

  </div>

  <script>
    function showImpl(type) {
        document.getElementById('impl-card').style.display = 'block';
        const code = document.getElementById('impl-code');
        const title = document.getElementById('impl-title');

        if(type === 'rect') {
            title.innerText = "Child: Rectangle";
            code.innerHTML = `<span class="kw">public override double</span> GetArea() \n{\n    <span class="com">// Specific Formula</span>\n    <span class="kw">return</span> width * height;\n}`;
        } else {
            title.innerText = "Child: Circle";
            code.innerHTML = `<span class="kw">public override double</span> GetArea() \n{\n    <span class="com">// Specific Formula</span>\n    <span class="kw">return</span> PI * r * r;\n}`;
        }
    }
  </script>
</section>


    <section class="slide">
      <h2>Polymorphism</h2>
      <p>Greek for "Many Forms". Treating Derived objects as their Base type.</p>
      <div class="code-block">
List&lt;Animal&gt; zoo = <span class="kw">new</span> List&lt;Animal&gt;();
zoo.Add(<span class="kw">new</span> Dog());
zoo.Add(<span class="kw">new</span> Cat());

<span class="kw">foreach</span>(Animal a <span class="kw">in</span> zoo) {
   a.Speak(); <span class="com">// Dynamic Dispatch</span>
}</div>
    </section>
    <section class="slide">
  <h2>Polymorphism: The Shape System</h2>
  <div class="grid-2" style="grid-template-columns: 1.5fr 1fr;">
    
    <div style="position:relative; transform-origin: top left; transform: scale(0.9);">
        
        <div style="display:flex; justify-content:center; margin-bottom:40px;">
            <div class="uml-class" onclick="polySim('shape')">
                <div class="uml-header"><i>Shape</i></div>
                <div class="uml-body">+ color</div>
                <div class="uml-body">
                    + Shape(color)<br>
                    <i>+ calculateArea()</i><br>
                    <i>+ calculatePerimeter()</i>
                </div>
            </div>
        </div>

        <svg style="position:absolute; top:110px; left:0; width:100%; height:60px; pointer-events:none; stroke:#0f0b0b; stroke-width:2; fill:none;">
            <path d="M 330 0 L 320 15 L 340 15 Z" fill="#1e293b" />
            <path d="M 330 15 L 330 35 L 140 35 L 140 50" /> <path d="M 330 35 L 520 35 L 520 50" /> </svg>

        <div style="display:flex; justify-content:space-between; gap:20px; margin-bottom:40px;">
            <div style="display:flex; flex-direction:column; align-items:center;">
                <div class="uml-class" onclick="polySim('rect')" style="width:280px;">
                    <div class="uml-header">Rectangle</div>
                    <div class="uml-body">+ width, height</div>
                    <div class="uml-body">
                        + Rectangle(c, w, h)<br>
                        + calculateArea()<br>
                        + calculatePerimeter()
                    </div>
                </div>
                
                <svg style="width:100%; height:40px; stroke:#120d0d; stroke-width:2; fill:none;">
                    <path d="M 140 25 L 140 40" />
                    <path d="M 140 5 L 130 20 L 150 20 Z" fill="#1e293b" />
                </svg>

                <div class="uml-class" onclick="polySim('square')" style="width:240px;">
                    <div class="uml-header">Square</div>
                    <div class="uml-body"></div>
                    <div class="uml-body">+ Square(color, side)</div>
                </div>
            </div>

            <div class="uml-class" onclick="polySim('circle')" style="width:260px;">
                <div class="uml-header">Circle</div>
                <div class="uml-body">+ radius</div>
                <div class="uml-body">
                    + Circle(c, r)<br>
                    + calculateArea()<br>
                    + calculatePerimeter()
                </div>
            </div>
        </div>

    </div>

    <div class="flex-col">
        <div class="card">
            <h3>Polymorphic Behavior</h3>
            <p class="muted">Click a class on the diagram to see how it calculates area.</p>
        </div>

        <div id="poly-display" class="card" style="background:#0f172a; min-height:200px; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center;">
            <div style="font-size:16px; color:#64748b;">Waiting for selection...</div>
        </div>
    </div>

  </div>

  <style>
    .uml-class {
        background: #1e293b; border: 2px solid #090303; color: #fff;
        font-family: var(--font-mono); font-size: 14px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.5); cursor: pointer;
        transition: transform 0.2s;
    }
    .uml-class:hover { transform: scale(1.02); border-color: #4ade80; }
    .uml-header { background: #334155; padding: 5px; text-align: center; font-weight: bold; border-bottom: 1px solid #fff; }
    .uml-body { padding: 8px; text-align: left; border-bottom: 1px solid rgba(255,255,255,0.2); }
    .uml-body:last-child { border-bottom: none; }
  </style>

  <script>
    function polySim(type) {
        const display = document.getElementById('poly-display');
        
        if(type === 'shape') {
            display.innerHTML = `
                <div style="font-size:50px;">‚ùì</div>
                <h3 style="color:#94a3b8">Abstract Shape</h3>
                <p>Area = <span style="color:#ef4444">Undefined!</span></p>
                <div class="code-block" style="font-size:14px; margin-top:10px;">public abstract double CalculateArea();</div>
            `;
        }
        else if(type === 'rect') {
            display.innerHTML = `
                <div style="font-size:50px;">‚ñ≠</div>
                <h3 style="color:#3b82f6">Rectangle</h3>
                <p>Area = <span style="color:#4ade80">width * height</span></p>
                <div class="code-block" style="font-size:14px; margin-top:10px;">return Width * Height;</div>
            `;
        }
        else if(type === 'circle') {
            display.innerHTML = `
                <div style="font-size:50px; border-radius:50%; width:60px; height:60px; border:3px solid #fff; display:grid; place-items:center;"></div>
                <h3 style="color:#eab308">Circle</h3>
                <p>Area = <span style="color:#4ade80">œÄ * r¬≤</span></p>
                <div class="code-block" style="font-size:14px; margin-top:10px;">return Math.PI * Radius * Radius;</div>
            `;
        }
        else if(type === 'square') {
            display.innerHTML = `
                <div style="font-size:50px;">‚¨ú</div>
                <h3 style="color:#f472b6">Square</h3>
                <p>Area = <span style="color:#4ade80">side * side</span></p>
                <p class="muted" style="font-size:12px;">(Inherits Rectangle logic, treated as Width=Height)</p>
            `;
        }
    }
  </script>
</section>

<section class="slide">
  <h2>Code Implementation: Shape Hierarchy</h2>
  <div class="grid-2">
    
    <div class="flex-col">
       <p>Here is the C# code that matches your Shape diagram.</p>
       
       <div class="card" style="border-left:4px solid var(--accent-danger);">
           <h3>Key Syntax</h3>
           <ul style="margin-left:20px; line-height:1.6;">
               <li><code class="mono">abstract</code> &rarr; Incomplete implementation (Base).</li>
               <li><code class="mono">override</code> &rarr; Replaces the base logic (Child).</li>
               <li><code class="mono">: base()</code> &rarr; Passes data (color) to parent.</li>
           </ul>
       </div>
    </div>

    <div class="card" style="padding:0; overflow:hidden; background:#0f172a; border:1px solid #334155;">
        
        <div style="display:flex; border-bottom:1px solid #334155; background:#1e293b;">
            <button class="tab-btn active" onclick="openTab(event, 'code-shape')">Shape.cs</button>
            <button class="tab-btn" onclick="openTab(event, 'code-rect')">Rectangle.cs</button>
            <button class="tab-btn" onclick="openTab(event, 'code-circle')">Circle.cs</button>
        </div>

        <div id="code-shape" class="tab-content active">
            <div class="code-block" style="border:none; background:none; font-size:16px;">
<span class="kw">public abstract class</span> Shape 
{
    <span class="kw">public string</span> Color { <span class="kw">get</span>; <span class="kw">set</span>; }

    <span class="kw">public</span> Shape(<span class="kw">string</span> color)
    {
        Color = color;
    }

    <span class="com">// Abstract: No body {} allowed!</span>
    <span class="com">// Children MUST implement this.</span>
    <span class="kw">public abstract double</span> CalculateArea();
}</div>
        </div>

        <div id="code-rect" class="tab-content">
            <div class="code-block" style="border:none; background:none; font-size:16px;">
<span class="kw">public class</span> Rectangle <span class="syntax-highlight">:</span> Shape 
{
    <span class="kw">public double</span> Width { <span class="kw">get</span>; <span class="kw">set</span>; }
    <span class="kw">public double</span> Height { <span class="kw">get</span>; <span class="kw">set</span>; }

    <span class="com">// Pass 'color' up to Shape using base()</span>
    <span class="kw">public</span> Rectangle(<span class="kw">string</span> c, <span class="kw">double</span> w, <span class="kw">double</span> h) <span class="kw">: base</span>(c)
    {
        Width = w; Height = h;
    }

    <span class="kw">public override double</span> CalculateArea() 
    {
        <span class="kw">return</span> Width * Height;
    }
}</div>
        </div>

        <div id="code-circle" class="tab-content">
            <div class="code-block" style="border:none; background:none; font-size:16px;">
<span class="kw">public class</span> Circle <span class="syntax-highlight">:</span> Shape 
{
    <span class="kw">public double</span> Radius { <span class="kw">get</span>; <span class="kw">set</span>; }

    <span class="kw">public</span> Circle(<span class="kw">string</span> c, <span class="kw">double</span> r) <span class="kw">: base</span>(c)
    {
        Radius = r;
    }

    <span class="kw">public override double</span> CalculateArea() 
    {
        <span class="kw">return</span> Math.PI * Radius * Radius;
    }
}</div>
        </div>

    </div>
  </div>

  <style>
    .tab-btn { background:none; border:none; color:#94a3b8; padding:15px 20px; cursor:pointer; font-family:var(--font-mono); font-size:14px; border-right:1px solid #334155; }
    .tab-btn:hover { color:#fff; background:#334155; }
    .tab-btn.active { color:#4ade80; background:#0f172a; border-top:2px solid #4ade80; }
    .tab-content { display:none; padding:20px; }
    .tab-content.active { display:block; animation: fadeIn 0.3s; }
  </style>

  <script>
    function openTab(evt, id) {
        // Hide all
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        
        // Show current
        document.getElementById(id).classList.add('active');
        evt.currentTarget.classList.add('active');
    }
  </script>
</section>
<section class="slide">
  <h2>Polymorphism in Action</h2>
  <p>The variable is type <code class="mono">Shape</code>, but the behavior depends on the specific object (Rectangle or Circle).</p>

  <div class="grid-2" style="margin-top:20px;">
    
    <div class="flex-col">
        <div class="card">
            <h3>Select Shape Instance</h3>
            <div class="btn-row" style="margin-top:10px;">
                <button class="btn secondary" onclick="selShape('rect')">Rectangle (5x4)</button>
                <button class="btn secondary" onclick="selShape('circle')">Circle (r=3)</button>
                <button class="btn secondary" onclick="selShape('square')">Square (4x4)</button>
            </div>
        </div>
        
        <div class="card" style="margin-top:20px;">
            <h3>Code Execution</h3>
            <div class="code-block" style="font-size:16px;">
Shape s = <span id="poly-new" style="color:#facc15">...</span>;

<span class="com">// Polymorphism:</span>
<span class="kw">double</span> area = s.CalculateArea();</div>
        </div>
    </div>

    <div class="card flex-center" style="background:#0f172a;">
        <div id="poly-icon" style="font-size:80px; margin-bottom:20px;">‚ùì</div>
        
        <div id="poly-formula" style="font-family:var(--font-mono); color:#94a3b8; margin-bottom:10px;">
            Formula: Unknown
        </div>
        
        <div id="poly-result" style="font-size:40px; font-weight:bold; color:#fff;">
            0.00
        </div>
    </div>

  </div>

  <script>
    function selShape(type) {
        const icon = document.getElementById('poly-icon');
        const formula = document.getElementById('poly-formula');
        const res = document.getElementById('poly-result');
        const codeSlot = document.getElementById('poly-new');

        if(type === 'rect') {
            icon.innerText = "‚ñ≠";
            formula.innerText = "Formula: Width * Height";
            res.innerText = "20.00"; // 5 * 4
            res.style.color = "#3b82f6";
            codeSlot.innerText = "new Rectangle(5, 4)";
        }
        else if(type === 'circle') {
            icon.innerText = "‚ö™"; // Circle char
            formula.innerText = "Formula: œÄ * r¬≤";
            res.innerText = "28.27"; // pi * 3 * 3
            res.style.color = "#eab308";
            codeSlot.innerText = "new Circle(3)";
        }
        else if(type === 'square') {
            icon.innerText = "‚¨ú"; // Square char
            formula.innerText = "Formula: Side * Side";
            res.innerText = "16.00"; // 4 * 4
            res.style.color = "#f472b6";
            codeSlot.innerText = "new Square(4)";
        }
    }
  </script>
</section>
    <section class="slide">
      <h2>Virtual & Override</h2>
      <div class="grid-2">
         <div>
            <h3>Virtual (Base)</h3>
            <p>Permission to change behavior.</p>
            <div class="code-block">
<span class="kw">public virtual void</span> Speak() {
   Print(<span class="str">"..."</span>);
}</div>
         </div>
         <div>
            <h3>Override (Child)</h3>
            <p>The new behavior.</p>
            <div class="code-block">
<span class="kw">public override void</span> Speak() {
   Print(<span class="str">"Bark!"</span>);
}</div>
         </div>
      </div>
    </section>

    <section class="slide">
      <h2>Zoo Simulator</h2>
      <div class="sim-box">
         <div class="grid-2">
            <div>
               <div class="btn-row">
                  <button class="btn" onclick="zooAdd('Dog')">+ Add Dog</button>
                  <button class="btn" onclick="zooAdd('Cat')">+ Add Cat</button>
               </div>
               <div class="btn-row" style="margin-top:20px;">
                  <button class="btn secondary" onclick="zooRun()">Run Speak()</button>
                  <button class="btn danger" onclick="zooClear()">Clear</button>
               </div>
            </div>
            <div id="zooLog" class="console-out">Zoo is empty.</div>
         </div>
         <p class="muted" style="margin-top:10px; color:#94a3b8;">The loop variable is 'Animal', but the output is specific.</p>
      </div>
    </section>

    <section class="slide">
      <h2>Abstract Classes</h2>
      <p>Incomplete templates. Cannot be instantiated.</p>
      <div class="code-block">
<span class="kw">public abstract class</span> Shape {
   <span class="kw">public string</span> Color;
   
   <span class="com">// Abstract Method: No body!</span>
   <span class="kw">public abstract double</span> GetArea();
}</div>
      <p class="muted">Derived classes MUST override abstract methods.</p>
    </section>

    <section class="slide">
      <h2>Abstract vs Concrete</h2>
      <div class="grid-2">
         <div class="card">
            <h3>Abstract Class</h3>
            <ul>
               <li>Contains <code>abstract</code> methods.</li>
               <li>Cannot do <code>new Shape()</code>.</li>
               <li>Defines a contract for children.</li>
            </ul>
         </div>
         <div class="card">
            <h3>Concrete Class</h3>
            <ul>
               <li>Fully implemented.</li>
               <li>Can be instantiated.</li>
               <li>Must implement all inherited abstract methods.</li>
            </ul>
         </div>
      </div>
    </section>

    <section class="slide">
      <h2>Sealed Classes</h2>
      <p>Prevent inheritance. The end of the line.</p>
      <div class="code-block">
<span class="kw">public sealed class</span> SecurityToken { ... }

<span class="com">// Error! Cannot derive.</span>
<span class="kw">class</span> Hack : SecurityToken { }</div>
      <p class="muted">Used for security and performance optimizations.</p>
    </section>

    <section class="slide">
      <h2>Interfaces</h2>
      <p>Pure contracts. Like an Abstract class with ONLY abstract methods.</p>
      <div class="code-block">
<span class="kw">public interface</span> IMovable {
   <span class="kw">void</span> Move();
}

<span class="kw">class</span> Car : IMovable { ... }</div>
      <p class="muted">C# allows implementing multiple interfaces (e.g., IMovable, IDisposable).</p>
    </section>

    <section class="slide">
      <h2>The Problem (Before Generics)</h2>
      <p>Collections stored <code>object</code>. This was unsafe and slow.</p>
      <div class="code-block">
ArrayList list = <span class="kw">new</span> ArrayList();
list.Add(1);
list.Add(<span class="str">"Text"</span>); <span class="com">// Mixed types allowed?</span>

<span class="kw">int</span> x = (<span class="kw">int</span>)list[1]; <span class="com">// Crash at runtime!</span></div>
      <p class="muted" style="color:#ef4444">Requires Casting and Boxing.</p>
    </section>

    <section class="slide">
      <h2>Generics &lt;T&gt;</h2>
      <p>Allow you to define a class with a placeholder for the type.</p>
      <div class="code-block">
<span class="kw">public class</span> Box&lt;T&gt; {
   <span class="kw">public</span> T Content;
}

<span class="com">// Usage</span>
<span class="kw">var</span> b = <span class="kw">new</span> Box&lt;<span class="kw">int</span>&gt;();
b.Content = 5; <span class="com">// Type Safe!</span></div>
    </section>

    <section class="slide">
      <h2>Generics Lab</h2>
      <div class="sim-box">
         <span class="sim-title">Type Safe Box&lt;T&gt;</span>
         <div class="grid-2">
            <div>
               <p style="margin-bottom:10px;">Define Box Type:</p>
               <select id="genSelector" class="sim-input" style="width:100%;" onchange="resetGenLab()">
                  <option value="int">Box&lt;int&gt;</option>
                  <option value="string">Box&lt;string&gt;</option>
               </select>
            </div>
            <div>
               <p style="margin-bottom:10px;">Try to insert value:</p>
               <div class="btn-row">
                  <button class="btn" onclick="tryGenInsert(100)">Insert 100</button>
                  <button class="btn secondary" onclick="tryGenInsert('Hello')">Insert "Hello"</button>
               </div>
            </div>
         </div>
         <div id="genLog" class="console-out" style="margin-top:20px;">Waiting...</div>
      </div>
    </section>

    <section class="slide">
      <h2>Generic Constraints</h2>
      <p>Restricting what <code>T</code> can be.</p>
      <div class="code-block">
<span class="kw">public class</span> Store&lt;T&gt; <span class="kw">where</span> T : class 
{
   <span class="com">// T must be a reference type</span>
}

<span class="kw">where</span> T : struct  <span class="com">// Value type</span>
<span class="kw">where</span> T : new()   <span class="com">// Must have default constructor</span>
<span class="kw">where</span> T : Animal  <span class="com">// Must be Animal</span></div>
    </section>

    <section class="slide">
      <h2>Struct vs Class</h2>
      <div class="grid-2">
         <div class="card">
            <h3>Struct</h3>
            <ul>
               <li><strong>Value Type</strong> (Stack).</li>
               <li>No Inheritance.</li>
               <li>Lightweight (Point, Vector).</li>
            </ul>
         </div>
         <div class="card">
            <h3>Class</h3>
            <ul>
               <li><strong>Reference Type</strong> (Heap).</li>
               <li>Supports Inheritance.</li>
               <li>Complex objects (Window, User).</li>
            </ul>
         </div>
      </div>
    </section>

    <section class="slide">
      <h2>Safe Casting</h2>
      <div class="grid-2">
         <div class="code-block">
<span class="com">// The 'is' operator</span>
<span class="kw">if</span> (obj <span class="kw">is</span> Dog d) {
   d.Bark();
}</div>
         <div class="code-block">
<span class="com">// The 'as' operator</span>
Dog d = obj <span class="kw">as</span> Dog;
<span class="kw">if</span> (d != <span class="kw">null</span>) { ... }</div>
      </div>
    </section>

    <section class="slide">
      <h2>OOP Best Practices</h2>
      <div class="grid-2">
         <div class="card">
            <div class="card-header">Encapsulation</div>
            <p>Always use Properties, never public fields.</p>
         </div>
         <div class="card">
            <div class="card-header">Inheritance</div>
            <p>Prefer Composition over Inheritance (Has-A vs Is-A).</p>
         </div>
         <div class="card">
            <div class="card-header">Polymorphism</div>
            <p>Program to Interfaces, not implementations.</p>
         </div>
         <div class="card">
            <div class="card-header">SOLID</div>
            <p>Single Responsibility Principle.</p>
         </div>
      </div>
    </section>

    <section class="slide">
      <h2>Summary</h2>
      <ul>
         <li><strong>Classes</strong> are blueprints; <strong>Objects</strong> are memory instances.</li>
         <li><strong>Encapsulation</strong> protects data via modifiers.</li>
         <li><strong>Inheritance</strong> allows extending base behaviors.</li>
         <li><strong>Polymorphism</strong> allows dynamic method overrides.</li>
         <li><strong>Generics</strong> provide type safety.</li>
      </ul>
      <div class="card" style="margin-top:20px;">
         <div class="card-header">Next Week</div>
         <p>Interfaces, Abstract Classes Deep Dive, and Design Patterns.</p>
      </div>
    </section>

    <section class="slide">
      <div class="flex-center flex-col">
         <h1>Questions?</h1>
         <p class="muted">Press 'F11' for Fullscreen</p>
         <p class="muted">Use Arrow Keys to Navigate</p>
         <h1 class="mono" style="margin-top:40px; color:#ef4444; border-color:#ef4444; background:#fee2e2;">System.Exit(0);</h1>
      </div>
    </section>

  <div class="corner-nav">
    <button class="iconbtn" onclick="prevSlide()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
    </button>
    
    <div class="mini-counter" id="slideCount">1 / 50</div>
    
    <button class="iconbtn" onclick="nextSlide()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 6l6 6-6 6"/></svg>
    </button>
    
    <button class="iconbtn" onclick="toggleFullScreen()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3H5a2 2 0 00-2 2v3m13-5h3a2 2 0 012 2v3m-5 13h3a2 2 0 002-2v-3m-13 5H5a2 2 0 01-2-2v-3"/></svg>
    </button>
  </div>
  <script>
    // ==========================================
    // 1. AUTO-SCALING ENGINE (FIXES LAYOUT)
    // ==========================================
    function fitDisplay() {
      const targetW = 1600;
      const targetH = 900;
      const padding = 20; // Space around the slide
      
      // Calculate available space
      const availableW = window.innerWidth - padding;
      const availableH = window.innerHeight - padding;
      
      // Calculate zoom scale
      const scale = Math.min(availableW / targetW, availableH / targetH);
      
      // Apply scale to the viewport
      const viewport = document.getElementById('viewport');
      if(viewport) {
        viewport.style.transform = `scale(${scale})`;
        // Ensure it scales from the center
        viewport.style.transformOrigin = 'center center'; 
      }
    }

    // Run scaling on load and whenever window resizes
    window.addEventListener('resize', fitDisplay);
    window.addEventListener('load', fitDisplay);
    // Run immediately in case of delay
    fitDisplay();


    // ==========================================
    // 2. SLIDE NAVIGATION
    // ==========================================
    let currentSlide = 0;
    const slides = Array.from(document.querySelectorAll('.slide'));
    const totalSlides = slides.length;
    
    const progressBar = document.getElementById('progressBar');
    const slideCount = document.getElementById('slideCount');

    function updateUI() {
      // Toggle active class
      slides.forEach((s, i) => {
        s.classList.toggle('active', i === currentSlide);
      });
      
      // Update Progress
      const pct = ((currentSlide + 1) / totalSlides) * 100;
      if(progressBar) progressBar.style.width = pct + '%';
      
      // Update Counter
      if(slideCount) slideCount.innerText = `${currentSlide + 1} / ${totalSlides}`;
      
      // Save state
      localStorage.setItem('oop_slide_idx', currentSlide);
    }

    function nextSlide() {
      if(currentSlide < totalSlides - 1) {
        currentSlide++;
        updateUI();
      }
    }

    function prevSlide() {
      if(currentSlide > 0) {
        currentSlide--;
        updateUI();
      }
    }
    
    function toggleFullScreen(){
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen();
      } else {
        if (document.exitFullscreen) {
          document.exitFullscreen();
        }
      }
    }

    // Keyboard Shortcuts
    document.addEventListener('keydown', (e) => {
      // Ignore if user is typing in an input box
      if(e.target.tagName === 'INPUT') return;
      
      if(e.key === 'ArrowRight' || e.key === ' ' || e.key === 'PageDown') nextSlide();
      if(e.key === 'ArrowLeft' || e.key === 'PageUp') prevSlide();
      if(e.key === 'F11') e.preventDefault();
      if(e.key.toLowerCase() === 'f') toggleFullScreen();
    });

    // Restore Position
    const saved = localStorage.getItem('oop_slide_idx');
    if(saved) currentSlide = parseInt(saved);
    updateUI();

    // ==========================================
    // 3. INTERACTIVE LABS
    // ==========================================

    // ==========================================
    // BETTER WARMUP: DRAG & DROP + CLICK
    // ==========================================
    
    // 1. Drag & Drop Logic
    let draggedItem = null;

    function allowDrop(ev) {
      ev.preventDefault();
      // Visual feedback for hover
      ev.currentTarget.classList.add('drag-over');
    }

    // Handle "DragLeave" to remove the visual feedback
    document.querySelectorAll('.drop-zone').forEach(zone => {
      zone.addEventListener('dragleave', () => zone.classList.remove('drag-over'));
    });

    function drag(ev) {
      draggedItem = ev.target;
      // Clear manual selection if dragging starts
      clearSelection(); 
      ev.dataTransfer.setData("text", ev.target.innerText);
    }

    function drop(ev, zoneType) {
      ev.preventDefault();
      const zone = ev.currentTarget;
      zone.classList.remove('drag-over'); // Remove hover effect

      if (!draggedItem) return;
      validateMove(draggedItem, zoneType, zone);
    }

    // 2. Click-to-Sort Logic (Hybrid)
    let selectedChip = null;

    function selectChip(el) {
       // Toggle selection
       if(selectedChip === el) {
          clearSelection();
       } else {
          clearSelection();
          selectedChip = el;
          el.classList.add('selected');
          showMsg("Select a Zone (State or Behavior) to move item.");
       }
    }

    function clickDrop(zoneType) {
       if(!selectedChip) return;
       const zone = document.getElementById(zoneType === 'State' ? 'zone-state' : 'zone-behavior');
       validateMove(selectedChip, zoneType, zone);
    }

    function clearSelection() {
       if(selectedChip) selectedChip.classList.remove('selected');
       selectedChip = null;
       hideMsg();
    }

    // 3. Validation Logic (Shared)
    function validateMove(item, targetType, zoneElement) {
       const correctType = item.getAttribute('data-type');
       const contentArea = zoneElement.querySelector('.zone-content');

       if (correctType === targetType) {
          // Success
          item.classList.remove('selected');
          item.classList.add('fixed'); // Lock it
          item.removeAttribute('onclick'); // Stop clicking
          item.removeAttribute('draggable'); // Stop dragging
          
          // Move to new container
          contentArea.appendChild(item);
          
          showMsg(`<span style="color:#10b981">Correct!</span> ${item.innerText} is ${correctType}.`);
          draggedItem = null;
          selectedChip = null;
       } else {
          // Failure
          showMsg(`<span style="color:#ef4444">Incorrect!</span> ${item.innerText} is NOT ${targetType}.`);
          
          // Shake Animation
          item.style.animation = "shake 0.4s ease";
          setTimeout(() => item.style.animation = "", 400);
          
          // Reset selection
          clearSelection();
       }
    }

    // Helper for messages
    function showMsg(html) {
       const box = document.getElementById('warmup-feedback');
       box.innerHTML = html;
       box.style.opacity = 1;
    }
    function hideMsg() {
       document.getElementById('warmup-feedback').style.opacity = 0;
    }

    // Add Shake keyframes dynamically
    const styleSheet = document.createElement("style");
    styleSheet.innerText = `
      @keyframes shake {
        0% { transform: translateX(0); }
        25% { transform: translateX(-5px); }
        50% { transform: translateX(5px); }
        75% { transform: translateX(-5px); }
        100% { transform: translateX(0); }
      }
    `;
    document.head.appendChild(styleSheet);

    // --- SORTING GAME ---
    const sortItems = [
        { text: "Star Wars", type: "object" },
        { text: "Blueprint", type: "class" },
        { text: "iPhone 15 (S/N: 998)", type: "object" },
        { text: "SmartPhone", type: "class" },
        { text: "Recipe", type: "class" },
        { text: "The Cake", type: "object" }
    ];
    let sortIdx = 0;
    let sortScore = 0;

    function checkSort(guess) {
        const currentItem = sortItems[sortIdx];
        const log = document.getElementById('sortOut');
        
        if (guess === currentItem.type) {
            sortScore++;
            log.innerHTML = `<span style="color:#10b981">Correct!</span> Score: ${sortScore}`;
        } else {
            log.innerHTML = `<span style="color:#ef4444">Wrong!</span> It was a ${currentItem.type}. Score: ${sortScore}`;
        }

        // Advance
        sortIdx = (sortIdx + 1) % sortItems.length;
        document.getElementById('sortItem').innerText = sortItems[sortIdx].text;
    }
// ==========================================
    // GC SIMULATOR LOGIC
    // ==========================================
    
    function runGcSim(step) {
       const stage = document.getElementById('gc-stage');
       const log = document.getElementById('gc-log');
       const guide = document.getElementById('gc-guide');
       
       const btn1 = document.getElementById('btn-gc-1');
       const btn2 = document.getElementById('btn-gc-2');
       const btn3 = document.getElementById('btn-gc-3');

       // STEP 1: ALLOCATE
       if(step === 1) {
          stage.innerHTML = `
             <div id="my-obj" class="gc-box">
                <div style="font-size:24px;">üéì</div>
                <div>Student</div>
             </div>`;
          
          log.innerHTML = "> Memory Allocated (0xF4).<br>> Variable 's' connected.";
          log.style.color = "#4ade80";
          guide.innerText = "Step 2: Abandon the object (remove the reference).";
          
          // Update Buttons
          btn1.disabled = true; btn1.classList.add('secondary');
          btn2.disabled = false; btn2.classList.remove('secondary');
       }

       // STEP 2: ABANDON (NULL)
       else if(step === 2) {
          const obj = document.getElementById('my-obj');
          if(obj) obj.classList.add('orphan');

          log.innerHTML = "> s = null;<br>> Connection broken.<br>> Object is now GARBAGE.";
          log.style.color = "#ef4444";
          guide.innerText = "Step 3: Force the Garbage Collector to run.";

          // Update Buttons
          btn2.disabled = true; btn2.classList.add('secondary');
          btn3.disabled = false; btn3.classList.remove('secondary');
       }

       // STEP 3: COLLECT
       else if(step === 3) {
          const obj = document.getElementById('my-obj');
          if(obj) obj.classList.add('gone'); // Animation trigger

          log.innerHTML = "> GC Sweep running...<br>> Memory reclaimed!";
          log.style.color = "#3b82f6";
          guide.innerText = "Cycle Complete. Resetting...";

          // Reset after animation
          setTimeout(() => {
             stage.innerHTML = '<span class="muted" style="opacity:0.5;">(Empty Memory)</span>';
             guide.innerText = "Ready to start again.";
             
             btn1.disabled = false; btn1.classList.remove('secondary');
             btn3.disabled = true; btn3.classList.add('secondary');
          }, 1500);
       }
    }
// ==========================================
    // ADVANCED MEMORY VISUALIZER
    // ==========================================
    let memStep = -1;
    const totalSteps = 4;

    function simMemNext() {
       if(memStep >= totalSteps - 1) return; // Stop if done
       
       memStep++;
       updateMemUI();
       
       const stack = document.getElementById('stack-container');
       const heap = document.getElementById('heap-container');
       const instruction = document.getElementById('mem-instruction');

       // --- STEP 1: Value Type ---
       if(memStep === 0) {
          instruction.innerText = "Value Type: 'int' is stored directly on the Stack.";
          stack.innerHTML += `
             <div class="stack-var">
                <span>int age</span>
                <span class="mem-val">20</span>
             </div>`;
       }

       // --- STEP 2: Reference Type (Allocation) ---
       else if(memStep === 1) {
          instruction.innerText = "Ref Type: 'new' creates object on Heap. Stack gets the address.";
          
          // 1. Create Heap Object
          const obj = document.createElement('div');
          obj.className = 'heap-obj';
          obj.id = 'heap-obj-1';
          obj.style.top = '20px';
          obj.style.left = '20px';
          obj.innerHTML = `<div style="border-bottom:1px solid rgba(255,255,255,0.2); margin-bottom:5px;">Student (0x99)</div><div id="s1-name">Name: null</div>`;
          heap.appendChild(obj);

          // 2. Create Stack Reference
          stack.innerHTML += `
             <div class="stack-var">
                <span>Student s1</span>
                <span class="mem-address">0x99</span>
             </div>`;
       }

       // --- STEP 3: Modifying Heap Data ---
       else if(memStep === 2) {
          instruction.innerText = "Dereference: The pointer is followed to update the data.";
          
          // Highlight Heap Object
          const obj = document.getElementById('heap-obj-1');
          obj.style.transform = "scale(1.1)";
          obj.style.background = "#15803d"; // brighter green
          
          // Update Name
          document.getElementById('s1-name').innerHTML = `Name: <span style="color:#4ade80">"Ali"</span>`;

          setTimeout(() => {
             obj.style.transform = "scale(1)";
             obj.style.background = "#14532d"; 
          }, 500);
       }

       // --- STEP 4: Reference Copying ---
       else if(memStep === 3) {
          instruction.innerText = "Aliasing: Copying the variable copies the ADDRESS, not the object.";
          stack.innerHTML += `
             <div class="stack-var">
                <span>Student s2</span>
                <span class="mem-address">0x99</span>
             </div>`;
          
          // Flash the object to show connection
          const obj = document.getElementById('heap-obj-1');
          obj.style.boxShadow = "0 0 20px #fbbf24";
       }
    }

    function simMemReset() {
       memStep = -1;
       document.getElementById('stack-container').innerHTML = '';
       document.getElementById('heap-container').innerHTML = '';
       document.getElementById('mem-instruction').innerText = "Click Next to begin execution.";
       
       // Clear highlights
       for(let i=0; i<4; i++) {
          document.getElementById('line'+i).classList.remove('active-line');
       }
    }

    function updateMemUI() {
       // Manage Highlights
       for(let i=0; i<4; i++) {
          const line = document.getElementById('line'+i);
          if(i === memStep) line.classList.add('active-line');
          else line.classList.remove('active-line');
       }
    }

    // --- REFERENCE SIMULATOR ---
    function updateRefObj(source) {
       const val = document.getElementById('refInputA').value;
       const b = document.getElementById('refDisplayB');
       
       b.innerText = val;
       b.style.color = '#10b981';
       b.style.borderColor = '#10b981';
       
       setTimeout(() => {
          b.style.color = '#fff';
          b.style.borderColor = '#333';
       }, 500);
    }

    // --- CONSTRUCTOR LAB ---
    function runConstructor() {
        const type = document.getElementById('ctorType').value;
        const name = document.getElementById('ctorName').value;
        const age = document.getElementById('ctorAge').value;
        const out = document.getElementById('ctorOut');

        if(type === 'default') {
            out.innerText = `Created Person:\nName: "Unknown"\nAge: 0\n(Default Defaults)`;
            out.style.color = '#94a3b8';
        } else {
            if(!name || !age) {
                out.innerText = "Error: Parameterized constructor requires arguments!";
                out.style.color = '#ef4444';
                return;
            }
            out.innerText = `Created Person:\nName: "${name}"\nAge: ${age}`;
            out.style.color = '#10b981';
        }
    }


    // --- GC SIM ---
    let gcObj = false;
    function gcAction(action) {
       const log = document.getElementById('gc-status');
       
       if(action === 'create') {
          gcObj = true;
          log.innerHTML = `> Object created at 0xFF01.<br>> Ref Count: 1`;
          log.style.color = '#10b981';
       }
       if(action === 'null') {
          if(!gcObj) { log.innerText = "Error: No object to nullify."; return; }
          gcObj = false;
          log.innerHTML += `<br>> Ref set to NULL.<br>> Ref Count: 0 (Orphaned)`;
          log.style.color = '#f59e0b';
       }
       if(action === 'collect') {
          if(gcObj) {
             log.innerHTML += `<br>> GC Skip. Object is still in use!`;
             log.style.color = '#ef4444';
          } else {
             log.innerHTML += `<br>> GC Run... Memory Reclaimed.`;
             log.style.color = '#3b82f6';
          }
       }
    }


    // --- BANK SIM ---
    let balance = 100;
    function bankAction() {
       const input = document.getElementById('bankInput');
       const log = document.getElementById('bankLog');
       const balDisplay = document.getElementById('bankBal');
       
       const amt = parseInt(input.value);
       
       if(!amt || amt <= 0) {
          log.innerText = "> Error: Invalid amount.";
          log.style.color = '#ef4444';
          return;
       }
       
       log.innerText = `> Request: Withdraw $${amt}...`;
       
       if(amt > balance) {
          log.innerHTML += `\n> DENIED: Insufficient Funds.\n> State Protected.`;
          log.style.color = '#ef4444';
       } else {
          balance -= amt;
          balDisplay.innerText = '$' + balance;
          log.innerHTML += `\n> APPROVED.\n> New Balance: $${balance}`;
          log.style.color = '#10b981';
       }
    }


    // --- STATIC SIM ---
    let staticCount = 0;
    function addStaticCar() {
       staticCount++;
       document.getElementById('staticCount').innerText = staticCount;
       
       const c = document.createElement('div');
       c.innerText = 'üöó';
       c.style.fontSize = '24px';
       c.title = "Car Instance #" + staticCount;
       
       document.getElementById('staticContainer').appendChild(c);
    }
    // ==========================================
    // ENCAPSULATION LAB (BANK)
    // ==========================================
    let labBalance = 1000;

    function runBankLab() {
       const input = document.getElementById('lab-input');
       const display = document.getElementById('lab-balance');
       const msg = document.getElementById('lab-msg');
       const vault = document.getElementById('bank-vault');

       const amount = parseInt(input.value);

       // Reset animations
       vault.classList.remove('shake', 'pulse-green');

       if (!amount || amount <= 0) {
          msg.innerHTML = `<span style="color:#f59e0b">‚ö† Please enter a valid positive amount.</span>`;
          return;
       }

       if (amount > labBalance) {
          // LOGIC: REJECT
          msg.innerHTML = `<span style="color:#ef4444">‚ùå Transaction Denied: Insufficient Funds.</span>`;
          vault.classList.add('shake'); // Visual Feedback
       } else {
          // LOGIC: ACCEPT
          labBalance -= amount;
          display.innerText = "$" + labBalance;
          msg.innerHTML = `<span style="color:#4ade80">‚úÖ Success! Withdrew $${amount}.</span>`;
          vault.classList.add('pulse-green'); // Visual Feedback
          input.value = ""; // Clear input
       }
    }
    // ==========================================
    // GATEKEEPER LAB (SIMPLIFIED)
    // ==========================================
    let gateBalance = 1000;

    function fillLab(val) {
       document.getElementById('lab-input').value = val;
       runGatekeeper();
    }

    function runGatekeeper() {
       const input = document.getElementById('lab-input');
       const balanceDisplay = document.getElementById('lab-balance');
       const status = document.getElementById('lab-status');
       
       // Get the logic steps elements to highlight them
       const step1 = document.getElementById('step-1');
       const step2 = document.getElementById('step-2');
       const step3 = document.getElementById('step-3');

       // Reset styles
       [step1, step2, step3].forEach(el => {
          el.style.color = "#64748b"; 
          el.style.fontWeight = "normal";
          el.style.background = "none";
       });

       const amount = parseInt(input.value);

       // 1. CHECK: Is it negative?
       if (!amount || amount < 0) {
          status.innerText = "Blocked";
          status.style.color = "#ef4444";
          
          highlightStep(step1, "#ef4444");
          return;
       }

       // 2. CHECK: Do we have enough money?
       if (amount > gateBalance) {
          status.innerText = "Blocked";
          status.style.color = "#ef4444";
          
          highlightStep(step2, "#ef4444");
          return;
       }

       // 3. SUCCESS: Allow access
       gateBalance -= amount;
       balanceDisplay.innerText = "$" + gateBalance;
       
       status.innerText = "Approved";
       status.style.color = "#4ade80";
       highlightStep(step3, "#4ade80");
    }

    function highlightStep(el, color) {
       el.style.color = "#fff";
       el.style.fontWeight = "bold";
       el.style.background = color === "#4ade80" ? "rgba(74, 222, 128, 0.2)" : "rgba(239, 68, 68, 0.2)";
       el.style.borderRadius = "4px";
       el.style.padding = "2px 5px";
    }
// ==========================================
    // CLASS vs OBJECT QUIZ
    // ==========================================
    
    const quizData = [
       { 
         text: "Film", 
         type: "class", 
         reason: "Correct! Instances are individual films." 
       },
       { 
         text: "Reel of Film", 
         type: "class", 
         reason: "Correct! Instances are physical reels." 
       },
       { 
         text: "Reel #SW19876", 
         type: "object", 
         reason: "Correct! It is a specific physical reel with a serial number." 
       },
       { 
         text: "Science Fiction Film", 
         type: "class", 
         reason: "Correct! Instances include 'Star Wars'." 
       },
       { 
         text: "Showing of 'Star Wars' (7pm)", 
         type: "object", 
         reason: "Correct! It happens at a specific time and place." 
       }
    ];

    let quizIdx = 0;

    function quizGuess(userGuess) {
       const currentItem = quizData[quizIdx];
       const feedback = document.getElementById('quizFeedback');
       const textDisplay = document.getElementById('quizText');

       if (userGuess === currentItem.type) {
          // Success
          feedback.innerHTML = `<span style="color:#10b981; font-weight:bold;">‚úî RIGHT!</span><br>${currentItem.reason}`;
          feedback.style.borderColor = "#10b981";
          
          // Auto-advance after 1.5 seconds
          setTimeout(() => {
             quizNext();
          }, 2000);

       } else {
          // Failure
          feedback.innerHTML = `<span style="color:#ef4444; font-weight:bold;">‚úò WRONG.</span><br>Try again!`;
          feedback.style.borderColor = "#ef4444";
       }
    }

    function quizNext() {
       quizIdx = (quizIdx + 1) % quizData.length;
       
       // Update Text
       const textDisplay = document.getElementById('quizText');
       textDisplay.style.opacity = 0;
       
       setTimeout(() => {
          textDisplay.innerText = quizData[quizIdx].text;
          textDisplay.style.opacity = 1;
          
          // Reset Feedback style
          const feedback = document.getElementById('quizFeedback');
          feedback.innerText = "Waiting for input...";
          feedback.style.borderColor = "rgba(255,255,255,0.12)";
       }, 200);
    }

    // --- ZOO SIM ---
    let zoo = [];
    function zooAdd(type) {
       zoo.push(type);
       const log = document.getElementById('zooLog');
       log.innerText = `Zoo List: [${zoo.join(', ')}]`;
       log.style.color = '#94a3b8';
    }
    
    function zooRun() {
       if(zoo.length === 0) return;
       const log = document.getElementById('zooLog');
       let out = "> Foreach(Animal a in Zoo)...\n";
       
       zoo.forEach((anim, i) => {
          if(anim === 'Dog') out += `  [${i}] Dog.Speak() -> "Bark!"\n`;
          if(anim === 'Cat') out += `  [${i}] Cat.Speak() -> "Meow!"\n`;
       });
       
       log.innerText = out;
       log.style.color = '#eab308';
    }
    
    function zooClear() {
       zoo = [];
       document.getElementById('zooLog').innerText = "Zoo is empty.";
    }

    // --- GENERICS LAB ---
    function resetGenLab() {
        document.getElementById('genLog').innerText = "Box type changed. Previous data cleared.";
        document.getElementById('genLog').style.color = "#94a3b8";
    }

    function tryGenInsert(val) {
        const type = document.getElementById('genSelector').value;
        const log = document.getElementById('genLog');
        const valType = typeof val;
        
        if(type === 'int' && valType !== 'number') {
            log.innerHTML = `> Error: Cannot convert type '${valType}' to 'int'.<br>> <b>Compile-time Error!</b>`;
            log.style.color = '#ef4444';
        } 
        else if (type === 'string' && valType !== 'string') {
            log.innerHTML = `> Error: Cannot convert type '${valType}' to 'string'.<br>> <b>Compile-time Error!</b>`;
            log.style.color = '#ef4444';
        }
        else {
            log.innerHTML = `> Success: Value '${val}' inserted into Box&lt;${type}&gt;.`;
            log.style.color = '#10b981';
        }
    }
  </script>
  
</body>
</html>